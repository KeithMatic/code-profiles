// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIobyxhKXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKG8sITApO2lmKHMpcmV0dXJuIHMobywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXIoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09aS50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1pLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24oKXt9fSk7dmFyIHI9ZSgicGF0aCIpLHM9ZnVuY3Rpb24odCl7dmFyIG4saT1lKCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIik7aWYodC5fbW9kZWwpbj10Ll9tb2RlbDtlbHNle3ZhciByPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCIpO249bmV3IHIoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pZEJ5UGF0aChlKX0scHJvamVjdDp0fSl9dC5fdWlTZXJ2aWNlPW5ldyBpKG4pLHQuX3VpU2VydmljZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIm5hdmlnYXRpb25SZXF1ZXN0ZWQiPT09ZS50eXBlJiZ0LmVtaXQoIm1lc3NhZ2UiLGUpfSl9O3QuZXhwb3J0cz17Y3JlYXRlOmZ1bmN0aW9uKHQsbil7aWYobil7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgbz10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxhPW5ldyBpKG9bMV0rIi8iK29bMF0rIi8iK29bMl0pO2Euc2V0RGF0ZShhLmdldERhdGUoKSsxKTt2YXIgbD1uZXcgaSgxNTEyODI0MzYzNjU5KTtpZihsLnNldEhvdXJzKDAsMCwwLDApLGw+YSlyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6Ii4vZXNuZWNpbC9tb2Muc2p5YmFsbGF3Ly86c3B0dGggOmVzbmVjaWwgcnVveSBlZGFyZ3B1IG90IGV0aXNiZXcgcnVvIHRpc2l2IGVzYWVsUFxuLmVzbmVjaWwgdG5lcnJ1YyBydW95IHliIGRlcmV2b2MgdG9uIHNpIG5vaXNyZXYgZXJvYyBzai55YmFsbGF3IGRlbGxhdHNuaSBlaFQiLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIiksbm9EZXRhaWxzOiEwfSl9Y2F0Y2goYyl7fXMobik7dmFyIHU9ZSgiLi9leHRlbnNpb24vc2VydmVyL211bHRpY2FzdGVyIiksZD0yZTM7aWYodC5saWNlbnNlJiZ0LmxpY2Vuc2UhPT1uLl93YWxsYWJ5RW1haWwpe3ZhciBoPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dS5lbWl0KCJsaWNlbnNlLnVzZSIsdC5saWNlbnNlKX0sZCk7dS5vbigibGljZW5zZS51c2UiLGZ1bmN0aW9uKGUsaSl7dC5saWNlbnNlJiZlJiZ0LmxpY2Vuc2U9PT1lJiZuLl9lbWl0KHt0eXBlOiJsaWNlbnNlQ29sbGlzaW9uIixhZGRyZXNzOml9KX0pLG4uX211bHRpY2FzdGVyPXtzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChoKSx1LnN0b3AoKX19fXJldHVybiB0LmxpY2Vuc2U/US53aGVuKCEwKTpuLl9maWxlU3RhdFByb21pc2Uoci5kaXJuYW1lKG4uX3BoYW50b21qcykpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7cmV0dXJuIFEud2hlbih7fSl9KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUmJmUubXRpbWUpe3ZhciB0PWUubXRpbWU7aWYodC5zZXREYXRlKGUubXRpbWUuZ2V0RGF0ZSgpKzMwKSxuZXcgaT50KXJldHVybiBRLnJlamVjdCh7bWVzc2FnZToibW9jLnNqeWJhbGxhd0BvbGxlaCB0YSBsaWFtZSBhaXYgc3UgdGNhdG5vYyBlc2FlbHAgLG1hZXQgcnVveSBybyBmbGVzcnVveSByb2YgZG9pcmVwIGxhaXJ0IHJlZ25vbCBhIGVnbmFycmEgb3QgZWtpbCBkbHVvdyB1b3kgZklcbi5lc25lY2lsIGEgZXNhaGNydXAgb3QgZXNhaGNydXAvbW9jLnNqeWJhbGxhdy8vOnB0dGggdGEgZXRpc2JldyBydW8gdGlzaXYgZXNhZWxwICx0Y2Vqb3JwIGVodCB0cm9wcHVzIGRuYSB0aSBnbmlzdSBldW5pdG5vYyBvdCBla2lsIGRsdW93IHVveSBkbmEgLHl0aXZpdGN1ZG9ycCBydW95IGRlc2FlcmNuaSBzYWggc2oueWJhbGxhdyBmSVxuLnR1byB0aSBnbml5cnQgcm9mIHNrbmFodCAscmV2byBzaSBkb2lyZXAgbGFpcnQgc2oueWJhbGxhdyBydW9ZIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfXJldHVybiBRLndoZW4oITApfSl9cmV0dXJuIGUoIi4vZXh0ZW5zaW9uL2NvcmUiKX19fSx7Ii4vZXh0ZW5zaW9uL2NvcmUiOjIsIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCI6MTAsIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciI6MTEsIi4vZXh0ZW5zaW9uL3VpL3NlcnZpY2UiOjE2LHBhdGg6dm9pZCAwfV0sMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxyPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09ci50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1yLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKSk7dmFyIHMsbz1lKCJjcnlwdG8iKSxhPWUoInRpbWVycyIpLnNldFRpbWVvdXQsbD1lKCJ0aW1lcnMiKS5jbGVhclRpbWVvdXQsYz1lKCIuL3NlcnZlci9maWxlU3lzdGVtIiksdT1lKCIuL3NlcnZlci9tb2RlbCIpLGQ9ZSgiLi9zaGFyZWQvdXRpbHMiKSxoPTZlNSxwPTdlMyxmPTUseT0iYWN0aXZhdGUtbGluayIsZz0iY29udGludWUtdHJpYWwtbGluayIsdj0iRnJlZWRvbSIsbT17QXRvbToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcXlkUUJacGU0dlBtV3ZIMnlyaUhcbjhmL0Jtb2txY2xEcUpOSlVDb1YrUlFhdzE2cnQvaTNrUlVVSHFZWFYxb3p4UHZRc056QXBQcmFwKzIxTXFWVFRcbmd6cFNKQjZIbmhZYWJBT01haHV2emFabHh0RVVWQW9kWndHWG43YmRETDZ0YjdXSWpvaGhHbXlmc0RLdisycGlcblZWbkJQK3FHUlh0dGF0TnlLazBtVE9mYlViODBtc3E2UzNNbmZoTThTdU9vODMreFkvdFo1aVBHd3pqMTFiU0ZcbnR2a2JNQWNYM1ljS2hvRlJteThLZ0R1T3hqUThtZTgyRHk2U2dzaGxzYWU4LzJTTlZ6MGlNY2dDSVRBU1hPdVhcbjBGMFFGQ3JlanhYVFR6Z2g3VEJlOWE0eDUxaVlLTWZNMXdxcVhoVi8zeWNzekhacndHRWY4RmNvNzNMV3Rmb21cbkh3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFZTQ29kZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBd2YwUm42cmdGTVZOdWFlZzNLZzlcbmtqTE5VVDhaMmZuSXJqVWhER004RlM3bzVrNE5UMUZkem5xc29CcHJMZHJMUmRrTXpqSDhJUHJyRVU1cktpV2xcblZPMGlLVTdRN0FtTWZBVFN0ZXp2ZnlzMEFBbCtvM2Yva1FpU1p4RDJVNVAvSzM4a2xZcHdmOUw4TU10aEFlRUZcbnk0eHpBNWVCdVB6QmRSSHh2VXdVcWhDQjlvNzNaNE1heEhucmF6NWh4MGY2YWdFZExWVTZYc05rbzV3WG44Wk5cblA2QmJrT09tL0hnVThLa1d1SmJVNTh5Z1h4UGYvZm5aSHUyZ3R2cnovck5lbW9YWTFmRHlkaXpOeER5K1pQZ1Bcbml3ZVNkcW5MaGxGb0pFdXhuSXdvUGxZTTdKd0toM0ppaE96QXFRUTVVNUprTTVlL21GUS9sRnFDVnhNbG1CUVdcblZ3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFN1YmxpbWU6Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXUxRUVEWnpRKytsNnR6MmlvQ1BhXG5IeE9TY2p5MmtSRGRQb1h1UTg4elpHNlZldnhxbUl6YWRIUEZHalY1cDNabThPWTlSK1NmNjFrZHpSWnp2V1JnXG54b3JsYW5vT2x1dHZmQmZHMmxrdjJKNEgvQjc1WHBvQWVHdmR2SWxPTW9EeGZ3ajJ2TUlRNG9ITmFDSjJ5K08vXG5pb2hURk9DMDduWTd1ZjJzYTB1c09BWjd6ZytiWHl6NjMvZnVTZVZvdUZDS0dlWUt2cTFZQzk5MUYySGowVGhNXG54eGVsbGM2eDFBYUZ1eXlHNUhtZFlxYnVLTlMraUF0N3c4cFlUSm9YeGk5akUwMjE0R2Ywc2JzRm5BYkJGajJzXG5rT2FlZTRQU3BseVNaWEVtWVJlcFAxK3c2YURrdWJWdHNITXZGdCtBcjR3dTRkTHVBajdTOHl4VlZyS0VHOVJ6XG40d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIixGcmVlZG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0cERvdGVqdHpoaVQvbHBOZmQwSFxuMkR2MDhOVFNKOC9peHVRejNpSmlWUnhRa290NVNuNDV3dTRRaVFFb1k1TlEvdERmOFY5bURlZVBOVS9aZDhLWVxuZHlSRm9xNmJ3T2xIYzBIQWE1MHRlY1JDRUNFU0IrdDNUVmNxTE1vZ1gzMnZnUWtTbWx5MHNGeHRHRkJqTjhXeFxuVitRN1dROG5lZnQ3SkthWHRtKzJGdDdQNDFvbmQrU2ZCZVRvaDltbjlERmZ0K091STJ2ejdzME9TamQrUDJid1xuK0dFSXIzb3RsM0NBNVJySUg5V1JzQVZqYXd2K3o1THZha1FYdE82Sk5ObUpnRXJIV1pta0JJbHYyVkhEc29TZFxuTUxnYTJqVGlFSHJrWnlsS1BGb3ovaE9kaC9pVkg0L3IxQVd4QmhqOElnUWxSY0xKZ3ZTQnpKbzRPbEJobFloNlxueHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LFQ9eyJRMGRDSUVWdWRHVnljSEpwYzJWeklDTnlZWEo2TkFwa2FXNWhhQzV3YkdGdVkyaGhjbVJBWTJkaUxtTnZiU3hYWVd4c1lXSjVMbXB6SUdOdmJYQmhibmtnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRFdk1EVXZNakF4TndwT1QyWlVhRFpXTlV4R1luVkZTVTV6YlV4WVJUSjNPVk16TVRaalNIaGxWVnBHVFdKRGNETTNSaXQwUjNKc1RGRndibHBEYjFaRlFucERUVU5RZGpaRWFUUldNVEZMVUU1TVNHbDRaR2QzY2tOR2VEaFBVRkJPTmpRNGMycEpNWHBXVFVsMFRYQnJSSFJpTHl0TGR6UjZNbUpTU1VGMmNFbDJaeXQ0UjA1dlExSXpWME5PU1RsaFdXVTFWWEIzVVVGM2RHRjJhMmRpVTA5a2RIZEdhbTFKTDIxcFV6QlhObXBYWVVkMVRuUkNSM1ZrUlZOVmNtcE5NRlJsTTNSalJsQkRUVlIzTUZKWU5YbHBTWEpzWlZOa1FrcFZlRTlUV2t4VGNHWXdaMncxWVZrclRYTkxWVGs0ZEhwTmFsVjFjMnRHWkdzM1NYWnFWRTFsUTB0TWIxcDZkMmgzTVhSTE1XMTFjRkJPYlVOaVZVZDFhMU1yZDFSVlJsSldVRUZ2YkVOelZIcEhMMUpFUldoV2QyTkxaa3dyT0M5eVIwMTFVVUpyTkZaNFp6WkNjbnBwT0hvNVdVcE1SSFpzYTJoa2NrRk9ka0ZYWm5jOVBRPT0iOjEsUVcxaGVtOXVJRU52Y25CdmNtRjBaU0JNVEVNZ0kzaGhaVGwyQ21Gc1pYaGZjMk5vYVdOcmJHbHVaMEJ6YUdrdVkyOXRMRmRoYkd4aFlua3Vhbk1nWTI5dGNHRnVlU0JzYVdObGJuTmxJQ2hCZEc5dEtRb3lOeTh3TkM4eU1ERTNDa1ZqU0d0MksxaHJlVzVqZUZKRVdWZEZVRkZpYnpkWVZteHFVRVEzVkc0d2VqQndlbTFFWlNzM2IyNVBWWEJuWVRWQmMydExTVEF5Y2tSVVdTdEZLMlJXTkM5cEwyWmhXRzR3ZGxGcWRFSjNOMFZTYTNkTU0zZFhWVEZOZUhKNE5VMW9hSE51ZGxveVNqTk1ZM0JxYjJsMU1sUkthR3hpVUhsSk1YWldSeTlHUVU0M1dEVnRWMFZzZFhKdVVsRkhhbGRCY0ZkT1UwTkNMMlk0VUdabFpGVmliVU51YVM5elpXNU5PRGxSVG5JcldETTBaekJqYWpkYVExRXpXVmgyYnpkMFMwMXdNMUZyZDI1UGVVaG9lVEJ0TkN0MWFUaFlaRXBZUms4NFV6UnFXRk5QU0VrdmVpdHlOVE15VjBFdlNVRkxlVXR0TTFnMFZXbFRXbWxNVkhOTWRrWTFOVVppUjJreFNsWXhZV3hQZVVaclJIQldUbmg0U2pKTFVVUlBNbmxGTTI4clkybHNZbFk0TW10VGR5c3hkRVpzTHpadE4yeHViM2RoTTBOSVdtdE9kVmhZZWxkRkwwdzNPVUV3UjBoaU9FWnhaejA5OjEsIlNuVnpkR2x1SUV4bFpHOTFlQXBxZFhOMGFXNHViR1ZrYjNWNFFHcDFjM1JwYm5kbFlpNXdjbThzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoVGRXSnNhVzFsSUZSbGVIUXBDakEyTHpBMkx6SXdNVGNLYjJvNWRFRlJZVXR2UTBkYVRHeHRZV2R4WlU0elZFVkNWVzl3VVRGeGNHTlBVa2xqTUhkblZqVXJWRVF6TkU1aGFFZFFWV2hYYUZWU1lTOWFkSHBzTjBWYWIzVjBNelpqWlZKMFRVY3lVa3d3SzJsYU4wWmxZMk5TVm5neVZUUk5iVTl0U0dwT2JFRlhaa050S3pBNGREWlZkMmszUVM5T2QwOVRja2x1TWtSV1dUWnlWMDlqVFdsRlNsazRhV0paWlhwblFWZDFkRGNyVjBFdlRrWXhWMDExWkVjdmVsZG5kVmRQTlRsMVFXRlFlRWQwUm5SWlRqZEJUemRTV2tSRGJHRnliM0lyUzA5TlRtZHpXalF2WW1NMk5FTm1Uak40ZFdZeVJFOWtUakJJTjI4MlZVcExhMDFLYVVOd1pHTkZUWGxUTTFaMVNGSnNSVlprVlUxcU0ycGxabE5sUTAxR1JtRmliSEJYTUZselEyVkNRVFUzV2xOM1dYQklLMDVLTldrcmExbGtNM1pqYkN0emMxRlJlVlJITld4WlVpdGlNbkZXV0RWRVdsVlZUWFYwTUZkVVRYWXJNMGhLUW5wTmNGTnVUalozUFQwPSI6MSwiVUdGMWJDQkpjbWx6YUFwd1lYVnNMbWx5YVhOb1FHZHRZV2xzTG1OdmJTeFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF4THpBM0x6SXdNVGNLY1c1eVdHZHRZM1JVSzJRNFFVVTNNRWx2TVZWUmJ5czNTR3hvVGtWdGNVaFVWbk5wY21KWlZDdDZNamhMVGpWd2RUWjZhV1k1UWtkSE4wUlpNRk4yZW14QlQwTlFlWEphVG5vemIzaEpPVU51ZDFsVU1tWmhSR001ZUdwaVVteG1ZbXB3TURsVlRUQmlOMjl5TURWeldFWkhNa3N6U0ZWbVkzWk5Oa000YUcwNWRWbHlaV2xYTkV0TU1Xd3dSVE5HZFVob1pYaDFSM2x2Wm1GQ2RXNUdNakYxWTBWaWNWY3hTRXh1Y0hWRGJFNHJLelJvWWl0VlowaFdiWGhMZWpVM1R6QjJUbFZsVEdzcmFuRlVWU3RDUlUxWWVrNU5ZMWxMVlZGNmIwZHhNRlF3YzFvdldtNTFaMDE1VmpKU1VXeFFlRzFVYUcxblIzaEVTU3RSVVRKNmNYZHBSMjFSZVdGelNGUkxhVFZXUjJ0UVdEWldhbFZsTUdOVmNrVlFMMEp0TkM5V2RYZG9iVmRxUldWU1REWjBiMDQ1TkhwdlJXRmxVRU5KSzNsdVFuZEdUekZMZGtSM2IzWTJaa2xZTURKaGJ6SnRka3QzUFQwPSI6MSwiVkc5aWFXRnpJRUZ1WkdWeWMyVnVDblJ2WW1saGMwQXliV2x1WkM1a2F5eFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF5THpBNUx6SXdNVGNLWWpOMlRUaG5Sbk51YUhkeE9HVXJablV5ZUhWd1ZVVmlUa3hYYzFOV1VqSjBZbVZUUkhWTVRHcEpOME41UTI1UldFOTZkMlZvTDBSUEwyUk1OaXMyZGs5WVZ6ZGFVMUEzVFM5RFQzWXhlbmR0TDFkNlNFWXhWMHRLWlZOWmNsZHZWRmRZTkRsbVNFSldURTlNVG1KRmQwNUllVmgwTTBSM1dubDFhMlprUVVKVlUxbFZRMkYwYXpCMk9HRnhjRzUwTkRrMkwxUlZWRWRuV1haRmFrNUpTMjlhTWs1WE5IUnlTa0o1UXpjdksyZ3lTMHhFVTFOeFkyZG9ZV3BqUVN0YVkwVjZOelpPYjNKQlNtNHJOV05FUjJKTlVHOVpZMjgyY0ZscllYaDNjaXRRYTB0d1ZFSm9jblU0V0hSVVZIbDRlRlpaTURBeFNtSldibWxWTjNaUVltVlhXVmhqUlROblZuUnRjVkUwWmpOTGMyTldaVGhFY2pZd1l6WnBTVW8xSzNaclVGTTNMelJyUmxNMFMwNUNSVmxSWTFWeEwzRmlPVTVvVmtONVVWRlVhR0ZGWTBkcmJrMVBkRTFsVUdOM2RXRkxTVXhCUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqZG5kdWRXa0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS1F6aDBaWHBQZUZsbGIxRklhMjFUT1U5NFNEWmlNM1IwYzNkalJ6WndXakp5YVRjelJETkRkQ3Q0YlZGeFNIb3pjVGhhVjJGeU9USlhLekpVVlhKcFdIbG9UMDVHVW5SalpWZHdlRWx5TkZoallYTTBTakZzYm5OU2FqbHpaSFpsTTNaclFXMHpLMGxVT1dWdlNFMTBXbWROVDBKRlRqZGxiM1pVVmtGb09UUkxLMjgxUW5kYU9FTkxZVEpRZW1WS1RVaHpkRVp5ZDJ0R2MwdFNNbEJvUzBRdk1EVndaRGRMTnpjNGREbHZRM2hQZERWRE4zRnNZVFZzVFdkNVNscHVVVU5wVDNGR2VqSk1TM0YyU1RncmNEVnlOemt3V2poTVJUUlBVRkZqVUROdFRrd3JOWGQyUzFkeVoyaHpUVFl3YVhWVU0zRkhiSFY1VWtGTGVTOXpia3c0ZFhReWJqTjNkbnB2TkhnclZGVnRZbkZKVjJ4alkwRkVTM2hzVERGRlRpdDFhVnBJWnpGcmJXbDFlbkpDVWxOVlZ6Wm5haTlGYVhKdGFUUk1jM1poU2xocFEycHRjVzh5UWk5NFNFUjFOSFkxY21aUlBUMD0iOjEsIlYybHVJRlJsWTJodWIyeHZaMmxsY3lBb1ZVc3BJRXgwWkNBamNXTm9PSFVLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQTNMekV3THpJd01UY0tka3RqTVdjd09FeHZkWEJQVUVOSVIxbEhTa2RIYkdObVdXcHFSazg1TjFaRmVXdEtkazVYU25Gd2NUaDVkRk5PUWtKVldrRmtVMGxWT1hKRFpXRkZTbTg0WTJKb1RrcFpaelZWZG1KS1lUVjVXWGxrZDNRMmVWcENiMHBvUmt0WldqQlZiRkVyZFVOUmRrOUlTbGhHWkV0NlNHTm1UbmxyWW5rNFQyWlBjemhNVW1GUFNHTkdkVWcyTjBNNFMyWlNhbUZJYVc1cWR6RnpURkpVWjBKUmRUWTJaRU50VkhablNubDZVSFIzYWxCVE9UVlJPVk5XZHpoUlN6VjNhR0l3VXpKeVRIQXZRbXhOY21nMVdXZzJha1ZwUmtSeE4xWXpUWGdyUVdWelJXeGtXSHBLWWxkSVpqTnFaRXhLU25GRVZ5OVdNaTlTWnpjeVFuWnRiMWhtY0VScVRXWjNkbVF3VGxZeFNITklVemc0ZEhGTVozbENjSGxvYmxaWlNEbGxTMFZTVWtseWJuTllhMVptVDJkUWFUUnNWMlJUU21kUGRVVjVVV2xZZWt4blJHeEhNVkkzUVhWdlpHZFVaVW80Y3k5a1dWWlJQVDA9IjoxLCJVM1JsWm1GdUlGUm9iMjFoY3dwdGIyOXVRR3AxYzNSdGIyOXVMbVJsTEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS01USXZNVEV2TWpBeE53cDZNVkprVWpWRlpXZHBWekZZTHpZeVRrczJSMFZKWmxCcVdXZ3JVVUZoUlhkTVZVdHViMHd4UVZOVmEwWXhaM2hKTVdsMVlVZFlTWGxLWm1Sak5HbE9ObUZKYmpWT2FXaFdWbTlzZDFrd2FFeEVSM3B0WVdaSlEydFhSVkp0WTFFd2NHOTBSM1kzTjBZd1puRXhhVFpQUVVWNlNGTnpTM3BQZWpaMFZVOHJjbWxXY0ZaalVIQlViRUoyZFVKa1RITTBlV2N6Wm1zMmNsbExWbnBJYTJOSGVpOHdZbmxMZFVWWVNUTkVURVJvUTNGS1UyOHhWWFpOYVVkUFZsQktVV05aV0dwcmRrcFhVWGN6UVZWSWFrdDFOWEJVVFZOQlRtTklkRkpzVVZoeGFsRklTMWxhWjNKWk0waDRXRFJtY0ZWcVMwcFdTRFpqVFZocFNUUjVNVWxuT0U4M09UZFZkVUV5TkdnNVozTnVSbFYxVjFoYVZWaGxkRTVHV2xWTVluSk1kVmh4VFVoaGFIRXhZalJsV210cmFVSnRXV2xFWkdFMU5Fd3dLelJNVG5OYVNGWk9Ra2RSUVRGd2MyMDJiQzlKYTFkNk4zYzlQUT09IjoxLCJUSFZqWVNCVGRHVmxZZ3BqYjI1MFlXTjBRR3gxWTJFdGMzUmxaV0l1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9SbkpsWldSdmJTa0tNekV2TVRJdk1qQXhOd3B5ZUZZck5WWnNObE5UUTJ0Uk4zQXZia3RvYjA5NGQzYzFkRU1yTW1vNWFHOXVORUphZUVoV1QyMTVRa0ZxTW0xWmVFODRSRkJRVFhOdmNWbDNObU5PVWpkbVVVSndWSFpqZWt4bmFtSXpjM2h1YUdwNU9FUjJUa3R0YTFGbGNXcFZkVmhxYVRCSFIxbFRTa2RaT1ZaWFJqbHFaMmwxVW1oTlowVk9MMWN3TXpWWmRGTTBRME15Umk4d2NVRlpNVmRXVmpoU01qWlFWRE5PY3k4dlVFZDJiVEUyZUhvclZqaEdja1JsZWs0NWF6UmphRkZMT0RSQlJqQkdkVm94TUVwdE5qUjFaRWhOVTNsSWVtZGtlV0ZMVjNkUFRHUmlZV3N3Vm5ZNVNqZ3JPRGt6YzFaRU1VdDZXalpZU21rMFpUWXdabFkzUjFKMmJWaFVkRnBtYWxGSE1UQXdkV1JJTkc5T09VbHdPSGRVUkhZNGJrZExlRGhLV0hWdVpHODJNbEY0Y0hJMlQwcG5XaXRZV0M4eFFsRm1UMVJvYzI5cVRXUm5SR3hYUTA0d2RrTlpMMDVxUlVaa1VHdGpVRnBRWkV0YVFVOTJRVUU5UFE9PSI6MSxURzkxYVhNZ1ZtRnVJR1JsSUVOaGJITmxlV1JsQ25aa1l5NXNiM1ZwYzBCbmJXRnBiQzVqYjIwc1YyRnNiR0ZpZVM1cWN5QndaWEp6YjI1aGJDQnNhV05sYm5ObElDaFdVeUJEYjJSbEtRb3hPQzh3TVM4eU1ERTRDa1I0WTB4WlRWRTBVQzgyYkdScGIycFRWVTlRWjBabGVYcHBiM0ZIWjA1aFoxYzJjM0pOTmpOeE9EWlhRekYwUVU1MldGVklhaXQzY1hweVFuZDZSa2RNWkdGVmRYaFRSVFZGUmtZeWFFaE9RMGROTTBaWmRsZE9jRGxUT1VSSWNDdHVORE13VUhkTk0yRjBXVlE1TVVOQk5YVkxZamRqYWt4Mk9VTmlUVVZOTURobk5ISkhOVVIxWW5vM1dIRXhlWFF4TWpsNFdVVjZhbXhaUW10U09VOUlNbnBQUlhKWGIwRnFVVzVQZVZoMGNXMVZSelZWTkdKTU1YcFNhRWhDVGtoeVJXTnRibWgwWlhoNWRIRkROVGR5VEhKR2VqSkZORk5MYTJWa2VUYzFjMnB6Ym1oSU1WaFpOR3hQT0hkeFFrVTVTa3A2Vm5WWFJtMWtjVWh5WW5KQ2JVWkdhVVZFTTFoT2NsWkVaVUZoYm1kMlVXZE9RMDUwV2tSQlQzZDBRVE5HVjFaT1RFUnFNamxyY21KMFFqSlFOMHR0UldsV1UxSTBXVGROVjJ4MWFrMDBXbmcyZVhWb2J5dHNPVWRsYUVKNlZISTBkejA5OjEsIlJHOXRhWE52Wm5RZ1VHbHZkSElnVG05M1lXc0tjQzV1YjNkaGF6SkFaMjFoYVd3dVkyOXRMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRBdk1ESXZNakF4T0FwMFZ6bDJXbGxOWVVwQ1IzTnBNMEpJUjBkWVUzbHFPRFYyT1ZkTlZUTTFSbEprZVZsUlVVTnhaWEpuVUZkTGJrbEhWRmh0ZUdWaEszSlFURWhySzJselFVeDRaRU5tZFZneE56bFFZeTlxWjNSMloxSk5jV2NyU1hsbWJYbzFPV01yWTFBNWNHSnZOREIyT0ZZcmIwWkdOM1pCWkZoVmMwVTFURkJ4U2t4Q1NuRjBlV2hMSzBKSmVXZHZOVFowYTNoRmMyOW9NRGsyYTAxRGRuZE5SbVl3Yld4NFVGb3diazlzUTFndlFrSnNMMHB0ZEdSM04wcGpLMU5ZZVRjeVZUWkthR1ZwV0VsVk5HaENSVkZNZVVKcFJtdFFPR0pZWjNjeVlXTXJUbWgyU2xsWmJWaDBjMjFHTHpSUlRqRnphVUpDWjNwMWRHWjZWVWhhU25KV05GZExOR1JqVmpjNVp6VnpZaXRaVVhsRmRtaHROakZWWVdWMVFtWnBhRnBKVWtKNmNGbERhbFJDVTFJM2RFSmhWWGRHVnpkbmRIaG5ZblZUUWtRMWMwNVdWV0YwY0dVeGRYQnRURlJ4TWtWRU1VRktTR1pMTUZFOVBRPT0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpabmw2TUhjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWTJ0UlZ6azNSbk5qU3l0SFdVWkNTRnB0YVZoTVYyOVRkbEZoVTJrNFF6UTBMMWQzWVdFd1dFMXZWbVIwUlVRMWNuWXJOaTlrWXpSUFVUWlZhRlYxT0UxdllrMVVkemR0WkdwNVRHVkVNamQwY2paalJrMXlZakJ0YUhkeE0zZDRhelkwZFc5NGFrdE1WbXMxU0dSb2FGVmlWRkpDSzJsdmJtNDVPV0ZtTDJodFRVZFhVVmxuYTB4UldXZEhja3RCWmtsSmF6RTVTVmRZTVU1cVFpczVZVkZpTVdORFdGUjNSSG80UTB4T1VtUlVNRFpLUW5OdmIxQndlbEZ2TUdsQ2JrdFdTRlZUVjA5U1MwZ3pPRUZzTjB4SWFEY3hiVXcyVlcxa1ZHMUZhVkZIWW5RNFFqQllkUzgxU2xaMWRXdDJSSEUwWm5aTGVHNXZla3BoVjFBclRYcHlSMU0wZWt0dldFOXBha0prUm5VNVRURXpkeXRaVGk4MVZXOWlRMEV4U2xSelFtTXlkbWMyU0hGVU0xbDZRMU5HTlZrMmRqVjRXVGh1ZUdNeE9UVkxkRE50ZW5wcE1tOHljbVZPUWtSNVFuQkhUVEJSUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak1HWTBOM2NLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tkMHh5VDFGdFRWQm1SV3BWZUhaSWN6WnhhMFZoYUdwVWRYZE1TazFEVWxsVWNVVktaSGRYY2psTU5VcERWRmMxYlhscGJYTTFVV1JXTms5V2JsUnNibEp3UzFWbFFrUkhXRGN3YzNwNFREWXZiVFZ2WldkbFNHWm1aVGxpUTNGM1FYWlpLM3BPYTBSeEwwUXpSMnRrZDJwWk5qbFRiV3h5UkhoMlozRm5VRTkyTVRndlRXeEhlRWhHU21kVmJtOVRWbmdyUWpKNWEzbDNXV0pUYnpKSE5ubGpXamRYY0c5TE9IbDBaRWx0YWxNcmFGZDRRME0yTTBOb1VHb3piM1UwZVhCNE1tSXdjMEZUTlUxdmFXcGFXRWhLYzNNeVJVOHZWR2hZV1U5RVlqaE1VVEZXYzJGNlREaExSRFozVldoT1NHVmhaa1JzZEdwaVVtVnViVU5pZGxBME9XdHViWEZMWms1VGRXeDRja0YwZVRBMWExTkdNamh2U21VMFFUVkRXR0puWjFsTE16TjRXbnAxTkd0NGFtdFBWM0pKTDBkeGJUaHliR0o2VHpWV1JqTkJVRVF2WTBRdmFXTlJjVE4yVDJvMFpWRlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqWWpadFl6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2JHZDRSU3R1UWtkeGFqVXJXWGQxYWxneVdVRmtjMHhOWjB4M2FrNXBPRmxtU0hkSlZuZHhVV05ZTWtWcGRraE5XbEZGUXpWMU9DODJiemRNT1ZjME4ybFBSM05aUzBOR1IwY3pXa3BqU0hkRU1EVjNOVWxWUWxKclFrZ3dWVEk1UmxneFYwMVBXV1ZrU1RoTVZtSTVkMlV6ZFVrNU9HOVFTVW81WkhkdVZHRjVlakJWSzJrNWNrZDZjRzVyVFhWblduaE9ZakIxVjJ0WVdGbEZWa3RsTDJGbGJpczViV3RhVFZCQ0wxRnhaR2RRTVROYWJtWm9PRXA0UlVkd2RqWllWRE5SWXpsemEwZzVTRkpQYVVaMldGQXhUbTE1TlRkbmNVcFVkWE13YVhGWmEycFdWbU5zZWxwaFJVMUpLME5SZUdSRWEwc3dia295V1hWWU5ERTFZemt6WkZwb0t6ZHFiRnBuWkhWQmEyNVBXVUp4YUZWeE1qUjZiVXRyUXprNVlWZGhOMDVhWVdwaGNVd3ZSazloTDBSck1taFlaR1pQVW5rNGNtbGFiMk5VSzNCSlYyVktaMGgwY1hKVVJGbHlRbTVzUlVwM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNemRyY0hnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWkhocEsxSldla2RXTkZKTVYzRlRWVTVZU1daTFR5dHpNM0pVSzNZeVNqZzFZelJTTDJaRVRITjZjbXc1V1doRmFtTllLMk5NVDBSSFVXTnFVV0prZEZKTGNHUkxaVTF5U2taMmFVMDNWbVZqZG5NdksxRmFibXh1TUd0RmNrdFhVMjRyTURSR05HRnVaMlowY0dOaVJtMTFaakJMTHl0NFVYWmhVM0E0T0VSbFRUaFpNV3B1VGpKUmF6SnhkRVZRY0N0Uk9HZERVaTlhUTJ4RlZGWnpVRmxJUnpST015OUpVVEpWVm5SV1NYaDJkSFY2TjBsa2VWVjNURTE1V21WS1QwOXpTVWROTldwaU5YbHZkM0J4VlZKamNFWlhUbEF2V1hoWVpGZ3JUbU5UUXpNdldtMHdiV2hsVUhSSlJHZGxUSEl5V0d3dlUyRnJhUzlYUVRSWGNIZG9hWFF6ZHl0aWIzbDFhRkJ2WlVoRWFFWlBOM2t3VGpVM1ltUkRTU3RsVHpjMVR6UTBjRnBWUW10ME1HNDRXbkJoV1ZNNFVEZEdUVWRUV0hwck1FbE5hbUpvVmt0WmEzbzRlall2WlU1REsweHNSU3QzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamRqSnZkemdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVa2t4U3padGRqaDZRV3B0VGtSRWRYUlliWFZ4ZW1VNGJHdFRhRkpSZURSRlNUbElVVFZYUVRsWVduZGhWRGMxUW1kb2NIcFRhWHBCZEZwNFlWaDVaRU5SYkVaRVRHSXdjMmhGWldOQ1FuTk5ha3hYZEUxcFJ6UkhaMGxWZEdaTk1UVlNSRWQ1TVRsc1VsazNVV1pUU0hoSlZrbEdiVFkxVkdwdWEzVldOSFpRUkhkQk5sTlNlV2xMYVVaNUsxZHBLM1JOWW5jNVlTdEVVMmc0TmpsNlVqRk5jbkpRV2tacFJXTXhkRWwxUldwV1Z5OVZibmhITW1oaE5HWXJWVk0zZVZwNWVXcEtUelJZV25jeFZTdGhSVTlQYmt4clFsaHNhMjkwWTNGbE1FRXJNaTl2VDI5c1ZXWTJXVFJSYVVscWVXaHNXWFJVY1RJdlozQlZka1YzZFhsVmFsZHhNa1I1TlZNNVRuVmxLelZzTDNKTlVFaFFaMFJWVXpOV2JXWnlNSG92UWpGRlNHTlpTM0pzVlRJeFdtaFJUM2h3ZUVsblUycHpXV1J0VGtOWVluUlJja3RrVmpSWVZteEpkMlprVGxoR1kwSm5QVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTWpWaU1uSUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2FFcE9PRzF5TkdFemFtbDRlbVZTYjFsdk16SndVRzAzTlhndkwyaDRRa3RsWjNkcGQxcFhNMUZFU2s1TlZXdFZNVzlyTm5sVVVFdzBaakowWkdob2MyWlFVM2hRSzJaWFZUbElhbTlvTjFSV1QzZFVjV1Z6T0ZsVVpGSkdNRFJ2YUZFNVNtVnFNbUZLZVUxSlkxUkdObUZ0YTB0UFdWWldZVVpETkRaWU9FcGFUVFZVUTFWdmJFTlhWaTlOVFdkallqZExPRVpYTkZwTFozWjBVRUZEWlZONmJWcHBibkZTZDBoaVRqQlZPRm94TUZNNU9YVkxMMWRMZFVsQmRuUmhVamR0VFdkS1kyeGFlRmgzTkdkVlJERjBiMW80YWsxVE9FaENXbloyYjFsWWFFdFRWVXhGZVU0dldFNWplREE0WTNCVlYyVXJjWE4wTVhGVlJGQXpaamR0TjFWTVYxbHNSblk1VTA4clVWaGxOV0ZJUTNwbFREWmxRM2MzV0ZFd1NFWkdWV05ZYkhkaVozVnJNMjB5VTFaelZESnNRMVp6ZVc1NVltbDBaMlZOTW1KUmJYaEtibkJHZEZoWFVFNTBSVTVKUW1kM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpibmwyYWpjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLVTFkWVVXaHhka05vWWpkMmNtcFhkREY0VjI5eFRTOTNia0ZGWW5FeFQybDVUbXhPZDFGeWVXTmFMMVJKZFVZd1V5OTNWblpZYWxsU1dFSk5WRFo1V2poa0swbFdMMXB5UmxGQ1pGTmhTalJYWWtGSU5rNVpSalpZWm5ZMlpUQnFjelJ6TWxSNWVFWkZaemg1WmxSUE9YRm9SbUZ5TTFsclVrOVBURXhpTVdzemN6QlJOSEpXZEZKaEswZFFXSGN3VEVacllVMUtVRTEzUkhobVdYcFNiVE5DYjJKcWJDdG5iMlpPV21GSVNVSTFlWEF3VDI1YVJrVTVaMjFaZEhBNFpISmtZMjVzZDNsMFRYRjBRVzFoT1M5alFVMHZNU3RsUzNKRVJ6aHdTVVpWY1c1b2RIcG1SRTFZVlRodFRtOHZSVVpyU2pkRGFVeG5ObkJZYkVJMU4wd3hkVEJoU21ZelUwbHpkRTF4ZDBzNFRVOVFXRlZGWTFaT0wzVmxZMFZVSzNCRlYyOXBSM1IyT1ZWSk0yUmxPV0pyU0hoa2RVWklUR1o1ZWsxVU9GZDFaazFyUzFoYVZUUmtjaXRXZDAwMU5rRlBNVU5uUFQwPSI6MSwiVm1sdVkyVnVkQ0JHYjNWeWJtbGxjZ3AyYVc1alpVQnVkR1p2ZFhKdWFXVnlMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tFWnlaV1ZrYjIwcENqRTNMekEzTHpJd01UZ0tiSEpMT1ZSak4xTXlXV05XWjA5RGNEUldXVWx4VUZsWGIzZGxMekUxTkdacVpsZFFTVE5rT0ZocFlUTnlhM1ZXV1V4SWFraEpXRGhJTm5BMGQwY3ZNV0ZFTVdoMFJIbDBNSFpHUWtGd1p6UkxSWFEzWWs5elIyRm9jRzVIYTB0dU9IWnNlalI1VFVwNFNETkpTMVJ5YkVsU2VHc3hiRmhYT0RCR1ptMHpVMDV1ZG5WSWIzUlJZME00YURSMlVGRTJaRnBFT0ZSNlVIUnNPRW94VURsMlNsVkZVMEpzUm05TWRuUlFNMVZPYUM5NVYyZFJRVU40ZEhrdlFXNWhlbEZOV0hGRlRFWllTRVZPZFZOck1HZERUbGRGT0c5SmRVVjRPVzQ1TDNJNVIydElNbFJ0YzFkQ2NsSkdjRFpwV2taUE4wbHNNRFJhZDBOTmNsZEpZME14TldseU5WUmtWV3htTXpWSkwyRndXVWh6YW1wNVZqTnlNSFZzVlVocE5WUlRUbGxPU2pSa1EwUjRiVkZMTm5wUGQxVmxSMjF1TDJrdmVHZzVaME5GZFdobWREQnJOMWx5YkhVMGNERnlZM2swV2tsd1p6Um5QVDA9IjoxfTtfLmVhY2goVCxmdW5jdGlvbihlLHQpe3RyeXtUW18ucnRyaW0oZC5wYXJzZUtleSh0KS5saWNlbnNlU2lnbmF0dXJlLCI9IildPTF9Y2F0Y2gobil7fX0pO3ZhciBiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzLGk9bjtuLl9kaWZmTWF0Y2hQYXRjaD1lLmRpZmZNYXRjaFBhdGNoO3ZhciByPWUuUHJvamVjdDtuLl9wcm9qZWN0PW5ldyByKGUpLG4uX3Byb2plY3Qub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWlbInByb2plY3Q6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfSksbi5fZnM9bmV3IGMobi5fcHJvamVjdC5fbG9jYWxSb290LGUpLG4uX21vZGVsPW5ldyB1KHtmaWxlSWRCeVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2ZzLmlkQnlQYXRoKGUpfSxwcm9qZWN0Om4uX3Byb2plY3QsYWx3YXlzU2VuZEFsbExpbmVzOiJWU0NvZGUiPT09ZS5jbGllbnR9KSxuLl9tb2RlbC5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7dmFyIHQ9aVsibW9kZWw6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfSksbi5fcHJvamVjdC5fbW9kZWw9bi5fbW9kZWwsbi5fcmVhZEZpbGVTeW5jPWUucmVhZEZpbGVTeW5jLG4uX3dyaXRlRmlsZVN5bmM9ZS53cml0ZUZpbGVTeW5jO3ZhciBzPW8sYT1vLmNyZWF0ZVZlcmlmeSxsPW8uY3JlYXRlSGFzaDtyZXR1cm4gbz17Y3JlYXRlVmVyaWZ5OmZ1bmN0aW9uKCl7dmFyIGU9YS5hcHBseShzLGFyZ3VtZW50cyksdD1lLnZlcmlmeTtyZXR1cm4gZS52ZXJpZnk9ZnVuY3Rpb24obil7dHJ5e3ZhciByPXMuY3JlYXRlSGFzaCgibWQ1IikudXBkYXRlKG4pLmRpZ2VzdCgiaGV4Iik7Ijc5NDc5ZmU5NGZjZDJiZDlmMTQxYWQxNzE3YzM1MjgyIiE9PXImJiI2NjU3MTA5ZmI0NDI2MzNmNDEyZjEyODc4ODg3MTk2MCIhPT1yJiYiY2M0OGZkYzkxZDg4MjVjYTk3YjMxYzU1Y2EwMzRkNDYiIT09ciYmIjQ3YWJmZGZhN2JjZDQxNmUwZjljNjk5OTFlYzFmODk2IiE9PXImJiIwN2VkMWZjNmEzYTMyZDY2MDk5ZmUxODcwYzgzYTBjZSIhPT1yJiZpLl90cmlhbE1vZGUoKX1jYXRjaChvKXt9cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfSxlfSxjcmVhdGVIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGwuYXBwbHkocyxhcmd1bWVudHMpfX0sbi5fdmVyaWZ5TGljZW5zZShlLmNsaWVudCxlLmxrcCksbn1yZXR1cm4gaShuLHQpLG4ucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUuX3J1bklmVmVyaWZpZWQoZnVuY3Rpb24oKXtyZXR1cm4gZS5fcHJvamVjdC5jb25maWd1cmUoKX0pfSxuLnByb3RvdHlwZS5maWxlQ2hhbmdlZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuX2ZzLmZpbGVDaGFuZ2VkSW5FZGl0b3IoZS5wYXRoLGUuY29udGVudCxlLmNoYW5nZUZyYW1lKX0sbi5wcm90b3R5cGUuZmlsZU9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKTt0JiYodC5vcGVuZWRJbkVkaXRvcigpLHRoaXMuX2VtaXREb2N1bWVudExpbmVzKHQpKX0sbi5wcm90b3R5cGUuZmlsZUNsb3NlZEluQWxsRWRpdG9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCk7dCYmdC5jbG9zZWRJbkFsbEVkaXRvcnMoKX0sbi5wcm90b3R5cGUucnVuVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwudGVzdHNCeVJlcXVlc3QoZS5yZXF1ZXN0KTt0aGlzLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czp0Lmxlbmd0aCYmdHx8dm9pZCAwfSl9LG4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnMuc3RvcCgpLHRoaXMuX3Byb2plY3Quc3RvcCgpfSxuLnByb3RvdHlwZS51bmNvdmVyZWRSZWdpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJ1bmNvdmVyZWRSZWdpb25zIixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdCh0KTtyZXR1cm4gaT8obi5kYXRhLnJhbmdlcz1pLHZvaWQgdGhpcy5fZW1pdChuKSk6dm9pZCB0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQWN0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIGZpbGVzIG91dHNpZGUgd2FsbGFieS5qcyBzY29wZSIpfSxuLnByb3RvdHlwZS5saW5lUmVwb3J0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJsaW5lUmVwb3J0IixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwubGluZVJlcG9ydEJ5UmVxdWVzdCh0KTtyZXR1cm4gaT8obi5kYXRhLnJlcG9ydD1pLHZvaWQgdGhpcy5fZW1pdChuKSk6dm9pZCB0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQWN0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIGZpbGVzIG91dHNpZGUgd2FsbGFieS5qcyBzY29wZSIpfSxuLnByb3RvdHlwZS5sb2NhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToibG9jYXRpb24iLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5sb2NhdGlvbkJ5UmVxdWVzdCh0KTtpP2kuZmlsZT8obi5kYXRhLmZpbGU9aS5maWxlLG4uZGF0YS5sb2M9aS5sb2MsdGhpcy5fZW1pdChuKSk6dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgbG9jYXRlIGEgZmFpbGluZyB0ZXN0Iik6dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgZmluZCBhbnkgZmFpbGluZyB0ZXN0cyIpfSxuLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToiZXJyb3IiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5lcnJvckJ5UmVxdWVzdCh0KTtpP24uZGF0YS5lcnJvcj1pOiJmYWlsaW5nVGVzdCI9PT10LnR5cGUmJnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGZpbmQgYW55IHRlc3QgZXJyb3JzIiksdGhpcy5fZW1pdChuKX0sbi5wcm90b3R5cGUuY29udGludWVUcmlhbD1mdW5jdGlvbigpe3RoaXMuX2NvbnRpbnVlVHJpYWxTZXNzaW9uJiZ0aGlzLl9jb250aW51ZVRyaWFsU2Vzc2lvbigpfSxuLnByb3RvdHlwZVsicHJvamVjdDpwcm9qZWN0Q29uZmlndXJlZCJdPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cz1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OmV4dGVuZGVkLWNvcmUiKSx0aGlzLl9mcy5zZXR1cCh0LmZpbGVzLHRoaXMuX3Byb2plY3QmJnRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5fc3RhcnQoe2ZpbGVzOm4uX2ZpbGVzRm9yUHJvamVjdChlKX0pfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHNldCB1cCBwcm9qZWN0IGZpbGUgc3lzdGVtOiAiK24uX2Vycm9yTWVzc2FnZShlKSksbi5fZW1pdFRlc3RSdW5FcnJvcihuLl90ZXN0UnVuRXJyb3JNZXNzYWdlKGUpKX0pLHRoaXMuX2ZzLm9uKCJhZGRlZCIsXy5iaW5kKHRoaXMuX3VwZGF0ZVByb2plY3RGaWxlLHRoaXMsITEpKSx0aGlzLl9mcy5vbigibG9hZGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJjaGFuZ2VkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJkZWxldGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMCkpLHRoaXMuX2ZzLm9uKCJlcnJvciIsZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcigiRmlsZSBzeXN0ZW0gZXJyb3I6ICIrbi5fZXJyb3JNZXNzYWdlKGUpKSxuLl9lbWl0VGVzdFJ1bkVycm9yKG4uX3Rlc3RSdW5FcnJvck1lc3NhZ2UoZSkpfSksdGhpcy5fZnMub24oIm5vdENoYW5nZWQiLGZ1bmN0aW9uKGUsdCxpKXt0cnl7aWYoaS5zdGFydD09PWkuZW5kKXJldHVybjtzKCJGaWxlIHdhcyBub3QgY2hhbmdlZCwgYnV0IGZpbGUgbWFya2VycyBtYXkgbmVlZCB0byBiZSBzeW5jZWQiKTt2YXIgcj1uLl9tb2RlbC5maWxlQnlJZChlLmlkKTtpZighcilyZXR1cm47bi5fZW1pdERvY3VtZW50TGluZXMocil9ZmluYWxseXtuLl9lbWl0U3RhdHNVcGRhdGUoKX19KX0sbi5wcm90b3R5cGUuX2VtaXREb2N1bWVudExpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7dFtlLnBhdGgoKV09ZS5hbGxMaW5lcygpLHRoaXMuX2VtaXREb2N1bWVudFVwZGF0ZXModCl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSdW5FcnJvciJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXRTdGF0c1VwZGF0ZShlLm1lc3NhZ2UpfSxuLnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UnVuUmVRdWV1ZWQiXT1mdW5jdGlvbihlKXshZS50ZXN0RXJyb3JSZXBvcnRlZCYmdGhpcy5fZW1pdFN0YXRzVXBkYXRlKHRoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydCgpKX0sbi5wcm90b3R5cGVbInByb2plY3Q6YnVzeSJdPWZ1bmN0aW9uKCl7dGhpcy5fZW1pdCh7dHlwZToiYnVzeSJ9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6bGl2ZSJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoZSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0Om5hdmlnYXRpb25SZXF1ZXN0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOmUudHlwZSxmaWxlOmUucGF0aCxsb2M6ZS5saW5lKyhlLmNvbHVtbj8iOiIrZS5jb2x1bW46IiIpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmZpbGVzUmVxdWlyZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2ZzLmxvYWRGaWxlcyhlLmZpbGVzKVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gdC5fZW1pdFRlc3RSdW5FcnJvcih0Ll9lcnJvck1lc3NhZ2UoZSkpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmxpY2Vuc2VDb2xsaXNpb24iXT1mdW5jdGlvbihlKXt2YXIgdD0iV2FsbGFieS5qcyBpcyBzdG9wcGVkIGJlY2F1c2UgeW91ciBsaWNlbnNlIGlzIGJlaW5nIHVzZWQgZWxzZXdoZXJlIG9uIHRoZSBuZXR3b3JrIGJ5IDxiPiIrKGUuYWRkcmVzc3x8InVua25vd24gYWRkcmVzcyIpKyc8L2I+LiBPbmx5IG9uZSBhY3RpdmUgY29tcHV0ZXIgYXQgdGhlIHNhbWUgdGltZSBtYXkgdXNlIHRoZSBsaWNlbnNlLjxici8+PGJyLz5JZiB5b3Ugd291bGQgbGlrZSB0byBwdXJjaGFzZSBhbiBhZGRpdGlvbmFsIGxpY2Vuc2UsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+LiBJZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+Lic7dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLHQpLHRoaXMuX2VtaXRTdG9wcGVkKCl9LG4ucHJvdG90eXBlWyJtb2RlbDpzdGF0c01heWJlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXRTdGF0c1VwZGF0ZShlLnRlc3RSZXN1bHRzQ2hhbmdlZD90aGlzLl9tb2RlbC5mdWxsVGVzdFJlc3VsdHNSZXBvcnQoKTp2b2lkIDApfSxuLnByb3RvdHlwZVsibW9kZWw6ZG9jdW1lbnRzVXBkYXRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXREb2N1bWVudFVwZGF0ZXMoZS5kb2N1bWVudHMpfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZUFkZGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdEZpbGVzVG9UcmFjayhbZS5maWxlLnBhdGhdKX0sbi5wcm90b3R5cGUuX3VwZGF0ZVByb2plY3RGaWxlPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPXRoaXMuX21vZGVsLmZpbGVCeUlkKHQuaWQpO2lmKCFlJiZyJiZyLmlzT3BlbmVkSW5FZGl0b3IoKSYmci5oYXNWYWxpZERvY3VtZW50KCkpe3ZhciBvPSEwO2lmKF8uaXNQYXRjaCh0LmNvbnRlbnQpJiZfLmlzU3RyaW5nKG4pJiZpKXt2YXIgYT10aGlzLl9kaWZmTWF0Y2hQYXRjaC5wYXRjaF9mcm9tVGV4dCh0LmNvbnRlbnQpO2lmKDE9PT1hLmxlbmd0aCl7dmFyIGw9YVswXTtpZihsJiZsLmRpZmZzJiZsLmRpZmZzLmxlbmd0aCYmbC5zdGFydDE9PT1sLnN0YXJ0Mil7bz0hMTt2YXIgYz1sLnN0YXJ0MSx1PWwuZGlmZnNbMF07MD09PXVbMF0mJihjKz11WzFdLmxlbmd0aCk7dmFyIGQ9MDtpZihfLmVhY2gobC5kaWZmcyxmdW5jdGlvbihlKXswIT09ZVswXSYmKGQrPWVbMF0qKF8udGV4dExpbmVzKGVbMV0pLmxlbmd0aC0xKSl9KSxkKXt2YXIgaD1fLnRleHRMaW5lcyhuLGMpLmxlbmd0aCxwPV8udGV4dExpbmVzKG4sbC5zdGFydDEpLmxlbmd0aCxmPU1hdGguYWJzKGQpLHk9TWF0aC5tYXgoTWF0aC5taW4oaS5zdGFydCxwKS1mLDEpLGc9TWF0aC5tYXgoaS5lbmQscCk7ci5zaGlmdERvY3VtZW50TGluZXMoaCxkLHtzdGFydDp5LGVuZDpnfSl9ZWxzZSBpLnN0YXJ0IT09aS5lbmQmJnIuaW52YWxpZGF0ZURvY3VtZW50TGluZXMoMCwwLGkpfX19byYmKHMoIk5ldyBkb2N1bWVudCBvciBjb21wbGV4IGRvY3VtZW50IGNoYW5nZSIpLHIuaW52YWxpZGF0ZURvY3VtZW50KCkpfXRoaXMuX3Byb2plY3QuZmlsZSh7ZmlsZTp0aGlzLl9maWxlRm9yUHJvamVjdCh0KSwiZGVsZXRlIjplfSl9LG4ucHJvdG90eXBlLl9maWxlc0ZvclByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIF8ubWFwKGUsdGhpcy5fZmlsZUZvclByb2plY3QpfSxuLnByb3RvdHlwZS5fZmlsZUZvclByb2plY3Q9ZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLGlkOmUuaWQsdHM6ZS50cyxvcmRlcjplLm9yZGVyLGluY2x1ZGU6ZS5sb2FkLHRyaWdnZXJzVGVzdHM6ZS50cmlnZ2VyLGNvdmVyYWJsZTplLmluc3RydW1lbnQsdGVzdDplLnRlc3QsdHlwZTplLnR5cGUsYmluYXJ5OmUuYmluYXJ5LGNvbnRlbnQ6ZS5jb250ZW50fX0sbi5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9lbWl0RmlsZXNUb1RyYWNrKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aH0pKSxlLmxpY2Vuc2V8fChlLmxpY2Vuc2U9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0JiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuaGFzaHx8dGhpcy5fcHJvamVjdC5fd2FsbGFieUVtYWlsKSxlLmV4cGlyeURhdGV8fChlLmV4cGlyeURhdGU9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0JiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmF0aW9uRGF0ZS5zcGxpdCgiLyIpLmpvaW4oIi0iKXx8dm9pZCAwKSx0aGlzLl9wcm9qZWN0LnN0YXJ0KGUpfSxuLnByb3RvdHlwZS5fdmVyaWZ5TGljZW5zZT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdD10aGlzLl9saWNlbnNlVmVyaWZpY2F0aW9uUmVzdWx0KGUsdCl9LG4ucHJvdG90eXBlLl9ydW5JZlZlcmlmaWVkPWZ1bmN0aW9uKGUpe3RoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdD10aGlzLl92ZXJpZmljYXRpb25SZXN1bHR8fHt2YWxpZDohMX07dmFyIHQ7aWYodGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LnZhbGlkKXJldHVybiB0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJlZD8odD0nWW91ciBjdXJyZW50IHdhbGxhYnkuanMgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCBoYXMgZXhwaXJlZDwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2Ygd2FsbGFieS5qcyBhbmQgZnV0dXJlIHZlcnNpb25zIHJlbGVhc2VkIHdpdGhpbiB0aGUgbmV4dCAxMiBtb250aHMsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbmV3IGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXRFeHBpcmVkTGljZW5zZSgpKTp0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJpbmdTb29uJiYodD0iWW91ciBjdXJyZW50IHdhbGxhYnkuanMgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCB3aWxsIGV4cGlyZSBzb29uIG9uICIrdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlKyc8L2I+LiBJZiB5b3Ugd291bGQgbGlrZSB0byB3b3JrIHdpdGggdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHdhbGxhYnkuanMgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIG5ldyBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyksdCYmdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsdCksZSgpO2lmKHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmVkVHJpYWwpdD0nWW91ciB3YWxsYWJ5LmpzIHRyaWFsIHBlcmlvZCBpcyBvdmVyLCB0aGFua3MgZm9yIHRyeWluZyBpdCBvdXQuIFBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZSBvciB0byBhcnJhbmdlIGEgbG9uZ2VyIHRyaWFsIHBlcmlvZCBmb3IgeW91cnNlbGYgb3IgeW91ciB0ZWFtLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLHQpLHRoaXMuX2VtaXRTdG9wcGVkKCk7ZWxzZXtpZighdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmludmFsaWRWZXJzaW9uKXJldHVybiB0PSdObyB2YWxpZCB3YWxsYWJ5LmpzIGxpY2Vuc2UgZm91bmQsIGl0IHN0YXJ0ZWQgaW4gdHJpYWwgbW9kZS48YnIvPjxici8+SWYgeW91IHdvdWxkIGxpa2UgdG8gcHVyY2hhc2UgYSBsaWNlbnNlLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPi48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLHQpLHRoaXMuX3RyaWFsTW9kZSgpLGUoKTt0PSdDdXJyZW50bHkgaW5zdGFsbGVkIHZlcnNpb24gb2Ygd2FsbGFieS5qcyBpcyA8Yj5ub3QgY292ZXJlZCBieSB5b3VyIGxpY2Vuc2U8L2I+LiBQbGVhc2UgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oImVycm9yIix0KSx0aGlzLl9lbWl0U3RvcHBlZCgpfX0sbi5wcm90b3R5cGUuX3RyaWFsTW9kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2U9ZXx8MCxhKGZ1bmN0aW9uKCl7ZT49Zj8odC5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsJ1dhbGxhYnkuanMgPGI+dHJpYWwgc2Vzc2lvbiBpcyBvdmVyPC9iPi4gVG8ga2VlcCB1c2luZyB3YWxsYWJ5LmpzLCBwbGVhc2UgPGI+cmVzdGFydCB5b3VyIGVkaXRvcjwvYj4gb3IgdmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuPGJyLz48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyksdC5zdG9wKCksdC5fZW1pdFN0b3BwZWQoITApKToodC5fY29udGludWVUcmlhbFNlc3Npb249ZnVuY3Rpb24oKXtsKHQuX3N0b3BwZXJUaW1lb3V0KSx0Ll90cmlhbE1vZGUoZSsxKX0sdC5fc3RvcHBlclRpbWVvdXQ9YShmdW5jdGlvbigpe3Quc3RvcCgpLHQuX2VtaXRTdG9wcGVkKCl9LHApLHQuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLCdXYWxsYWJ5LmpzIHdpbGwgc3RvcCBpbiBhIGZldyBzZWNvbmRzLiBUbyA8Yj5jb250aW51ZSB3YWxsYWJ5LmpzIHRyaWFsIHNlc3Npb248L2I+LCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicrZysnIj5jbGljayBoZXJlPC9hPi48YnIvPjxici8+VmlzaXQgPGEgaHJlZj0iaHR0cDovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiPm91ciB3ZWJzaXRlPC9hPiB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuPGJyLz48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJykpfSxoKX0sbi5wcm90b3R5cGUuX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXRoaXMscz17dmFsaWQ6ITEsZXhwaXJlZFRyaWFsOiEwfTt0cnl7bj1pLl9yZWFkRmlsZVN5bmModCl9Y2F0Y2goYSl7dHJ5e2kuX3dyaXRlRmlsZVN5bmModCwrbmV3IHIpfWNhdGNoKGwpe319dHJ5e2lmKF8uaXNTdHJpbmcobikpaWYobi5sZW5ndGg+MTAwKXt2YXIgYz1kLnBhcnNlS2V5KG4pLHU9Yy5saWNlbnNlU2lnbmF0dXJlO2lmKFRbXy5ydHJpbSh1LCI9IildKXMuZXhwaXJlZFRyaWFsPSExO2Vsc2V7cy5leHBpcmVkVHJpYWw9ITEscy5rZXk9bjt2YXIgaD1jLmxpY2Vuc2VlTmFtZSxwPWMubGljZW5zZWVFbWFpbCxmPWMubGljZW5zZVRhZ3MseT1jLmxpY2Vuc2VkUHJvZHVjdCxnPWMuZXhwaXJhdGlvbkRhdGVTdHJpbmc7cy5uYW1lPWgscy5leHBpcmF0aW9uRGF0ZT1nO3ZhciBiPW8uY3JlYXRlVmVyaWZ5KCJSU0EtU0hBNTEyIik7aWYoYi51cGRhdGUobmV3IEJ1ZmZlcihoK2YrZykpLHMudmFsaWQ9Yi52ZXJpZnkobVt+eS5pbmRleE9mKHYpP3Y6ZV0sbmV3IEJ1ZmZlcih1LCJiYXNlNjQiKSkscy52YWxpZCl7dmFyIFI9Zy5zcGxpdCgiLyIpLFY9bmV3IHIoUlsxXSsiLyIrUlswXSsiLyIrUlsyXSksRj1uZXcgcigxNTEyODI0MzYzNjU5KTtpZihGLnNldEhvdXJzKDAsMCwwLDApLEY+VilzLmludmFsaWRWZXJzaW9uPSEwLHMudmFsaWQ9ITE7ZWxzZXt2YXIgTj1wPT09aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsO3RyeXt2YXIgWj12b2lkIDA7cy5oYXNoPU4/aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsOihaPW8uY3JlYXRlSGFzaCgic2hhNTEyIiksWi51cGRhdGUobmV3IEJ1ZmZlcihuLCJiYXNlNjQiKSksWi5kaWdlc3QoImJhc2U2NCIpKX1jYXRjaChVKXtzLmhhc2g9aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsfXZhciB4PW5ldyByO2lmKHguc2V0SG91cnMoMCwwLDAsMCkseD5WKXMuZXhwaXJlZD0hMCxzLnZhbGlkPSFOLHMuZXhwaXJlZFRyaWFsPU47ZWxzZXt2YXIgaz1uZXcgcjtrLnNldERhdGUoay5nZXREYXRlKCkrMTQpLHMuZXhwaXJpbmdTb29uPWs+Vn19fX19ZWxzZXt2YXIgTT1wYXJzZUludChuLDEwKTtzLmV4cGlyZWRUcmlhbD1fLmlzTmFOKE0pfHxNKzI2MjhlNjwrbmV3IHJ9ZWxzZSBzLmV4cGlyZWRUcmlhbD0hMX1jYXRjaChVKXtzLnZhbGlkPSExfXJldHVybiBzfSxuLnByb3RvdHlwZS5fZW1pdEZpbGVzVG9UcmFjaz1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJmaWxlc1RvVHJhY2siLGZpbGVzOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRUZXN0UnVuRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RhdHMiLGRhdGE6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdERvY3VtZW50VXBkYXRlcz1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJkb2N1bWVudFVwZGF0ZXMiLHVwZGF0ZXM6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFN0YXRzVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0YXRzIixkYXRhOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRQcm9qZWN0Q29uZmlndXJlZD1mdW5jdGlvbihlLHQpe3RoaXMuX2VtaXQoXy5leHRlbmQodCx7ZmlsZXM6ZX0pKX0sbi5wcm90b3R5cGUuX2VtaXROb3RpZmljYXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0KHt0eXBlOiJub3RpZmljYXRpb24iLG5vdGlmaWNhdGlvbjp7dGV4dDp0LHR5cGU6ZX19KX0sbi5wcm90b3R5cGUuX2VtaXRTdG9wcGVkPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0b3BwZWQiLGRlYWN0aXZhdGU6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdEV4cGlyZWRMaWNlbnNlPWZ1bmN0aW9uKCl7dGhpcy5fZW1pdCh7dHlwZToiZXhwaXJlZExpY2Vuc2UifSl9LG4ucHJvdG90eXBlLl9lbWl0PWZ1bmN0aW9uKGUpe3RoaXMuZW1pdCgibWVzc2FnZSIsZSl9LG4ucHJvdG90eXBlLl9lcnJvck1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Byb2plY3QmJnRoaXMuX3Byb2plY3QuX2NsZWFuU3RhY2soZSksZSYmKGUuc3RhY2t8fGUubWVzc2FnZSl9LG4ucHJvdG90eXBlLl90ZXN0UnVuRXJyb3JNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm1lc3NhZ2V9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWJ9LHsiLi9zZXJ2ZXIvZmlsZVN5c3RlbSI6OSwiLi9zZXJ2ZXIvbW9kZWwiOjEwLCIuL3NoYXJlZC91dGlscyI6MTUsY3J5cHRvOnZvaWQgMCxkZWJ1Zzp2b2lkIDAsdGltZXJzOnZvaWQgMH1dLDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3Rlc3RJZD1lLnNwZWMsdGhpcy5fZmlsZUlkPWUuZmlsZSx0aGlzLl9yYW5nZT1lLnJhbmdlLHRoaXMuX3RleHQ9ZS50ZXh0LHRoaXMuX3R5cGU9ZS50eXBlLHRoaXMuX2NvbnRleHQ9ZS5jb250ZXh0fXJldHVybiBlLnByb3RvdHlwZS50ZXN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVzdElkfSxlLnByb3RvdHlwZS5maWxlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sZS5wcm90b3R5cGUuc2V0UmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fcmFuZ2U9ZX0sZS5wcm90b3R5cGUudGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0fSxlLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LGUucHJvdG90eXBlLnNldEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZT1lfSxlLnByb3RvdHlwZS5maWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGV9LGUucHJvdG90eXBlLmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2U/Xy5pc0FycmF5KHRoaXMuX3JhbmdlKT90aGlzLl9yYW5nZVswXTp0aGlzLl9yYW5nZS5zdGFydExpbmUoKTp2b2lkIDB9LGUucHJvdG90eXBlLmNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dH0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2l0ZW1zPWUuaXRlbXMsdGhpcy5faGl0cz1lLmhpdHN9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxuKXt2YXIgaT10aGlzO3RoaXMuX2tleT1lLnJhbmdlS2V5KHRoaXMuX2l0ZW1zKSx0aGlzLl9maWxlPXQsdGhpcy5fc3RhcnRMaW5lPXRoaXMuX2l0ZW1zWzBdLHRoaXMuX3N0YXJ0Q29sdW1uPXRoaXMuX2l0ZW1zWzFdLHRoaXMuX2VuZExpbmU9dGhpcy5faXRlbXNbMl0sdGhpcy5fZW5kQ29sdW1uPXRoaXMuX2l0ZW1zWzNdLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz0wLHRoaXMuX2lzQ292ZXJlZD0hMSx0aGlzLl9oaXRzJiYodGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKHRoaXMuX2hpdHMsZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9bltlXTtpZighdClyZXR1cm47dmFyIHI9dC5rZXkoKTtpLl9jb3ZlcmluZ1Rlc3RNYXBbcl09dCxpLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyh0KX1lbHNlIGkuX2lzQ292ZXJlZEJ5Tm90VGVzdHM9ITB9KSxpLl9udW1PZkNvdmVyaW5nVGVzdHM9Xy5zaXplKGkuX2NvdmVyaW5nVGVzdE1hcCksaS5fc2V0SXNDb3ZlcmVkKCkpLGRlbGV0ZSB0aGlzLl9pdGVtcyxkZWxldGUgdGhpcy5faGl0c30sZS5wcm90b3R5cGUubGluZVNoaWZ0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0TGluZSs9dCx0aGlzLl9lbmRMaW5lKz10LHRoaXMuX2tleT1lLnJhbmdlS2V5KFt0aGlzLl9zdGFydExpbmUsdGhpcy5fc3RhcnRDb2x1bW4sdGhpcy5fZW5kTGluZSx0aGlzLl9lbmRDb2x1bW5dKX0sZS5wcm90b3R5cGUuc3RhcnRMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0TGluZX0sZS5wcm90b3R5cGUuc3RhcnRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRDb2x1bW59LGUucHJvdG90eXBlLmVuZExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kTGluZX0sZS5wcm90b3R5cGUuZW5kQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZENvbHVtbn0sZS5wcm90b3R5cGUuZmFpbHM9ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRXJyb3JzfHwodGhpcy5fZ2xvYmFsRXJyb3JzPVtdKSx+dGhpcy5fZ2xvYmFsRXJyb3JzLmluZGV4T2YoZSl8fHRoaXMuX2dsb2JhbEVycm9ycy5wdXNoKGUpfSxlLnByb3RvdHlwZS5zZXRDb25zb2xlTG9nPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbnNvbGVMb2c9ZX0sZS5wcm90b3R5cGUuY29uc29sZUxvZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTG9nfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGUucHJvdG90eXBlLmlzRXJyb3JTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYhXy5pc0VtcHR5KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyl8fHRoaXMuX2dsb2JhbEVycm9ycyYmIV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpfSxlLnByb3RvdHlwZS5pc09uRXJyb3JQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmIV8uaXNFbXB0eSh0aGlzLl9mYWlsZWRPbk1lVGVzdHMpfSxlLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5pc0Vycm9yU291cmNlKCk/KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmKGU9ZS5jb25jYXQoXy5mbGF0dGVuKF8udmFsdWVzKHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cykpKSksdGhpcy5fZ2xvYmFsRXJyb3JzJiYoZT1lLmNvbmNhdCh0aGlzLl9nbG9iYWxFcnJvcnMpKSxlKTplfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7CmRlbGV0ZSB0aGlzLl9maWxlLGRlbGV0ZSB0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAsZGVsZXRlIHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyxkZWxldGUgdGhpcy5fZmFpbGVkQnlNZVRlc3RzLGRlbGV0ZSB0aGlzLl9nbG9iYWxFcnJvcnMsdGhpcy5faXNEaXNwb3NlZD0hMCxkZWxldGUgdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzfSxlLnByb3RvdHlwZS5zb3VyY2VGaWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGV9LGUucHJvdG90eXBlLmZhaWxzVGVzdD1mdW5jdGlvbihlLHQpe3RoaXMuX2ZhaWxlZEJ5TWVUZXN0c3x8KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9mYWlsZWRCeU1lVGVzdHNbZS5rZXkoKV09dH0sZS5wcm90b3R5cGUubm90Q292ZXJlZEJ5PWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCksbj10aGlzLmlzQ292ZXJlZCgpO3RoaXMuX2NvdmVyaW5nVGVzdE1hcCYmdGhpcy5fY292ZXJpbmdUZXN0TWFwW3RdJiYoZGVsZXRlIHRoaXMuX2NvdmVyaW5nVGVzdE1hcFt0XSx0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHMtLSx0aGlzLl9zZXRJc0NvdmVyZWQoKSksdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiZkZWxldGUgdGhpcy5fZmFpbGVkQnlNZVRlc3RzW3RdLHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmZGVsZXRlIHRoaXMuX2ZhaWxlZE9uTWVUZXN0c1t0XSxudWxsIT10aGlzLl9maWxlJiZ0aGlzLl9maWxlLnJhbmdlQ292ZXJhZ2VDaGFuZ2VkKHRoaXMsbil9LGUucHJvdG90eXBlLmNvdmVyaW5nVGVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gXy52YWx1ZXModGhpcy5fY292ZXJpbmdUZXN0TWFwKX0sZS5wcm90b3R5cGUuaXNDb3ZlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ292ZXJlZH0sZS5wcm90b3R5cGUuX3NldElzQ292ZXJlZD1mdW5jdGlvbigpe3RoaXMuX2lzQ292ZXJlZD10aGlzLl9udW1PZkNvdmVyaW5nVGVzdHM+MHx8dGhpcy5faXNDb3ZlcmVkQnlOb3RUZXN0c30sZS5wcm90b3R5cGUuYXR0YWNoZWRUb1NvdXJjZUZpbGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2NvdmVyaW5nVGVzdE1hcCYmXy5lYWNoKHRoaXMuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbih0KXtyZXR1cm4gdC5jb3ZlcnMoZSl9KX0sZS5wcm90b3R5cGUudXBkYXRlRnJvbT1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztyZXR1cm4gdCYmbiYmXy5pc0VtcHR5KGUuX2NvdmVyaW5nVGVzdE1hcCk/dm9pZChlLl9jb25zb2xlTG9nJiYodGhpcy5fY29uc29sZUxvZz1lLl9jb25zb2xlTG9nKSk6KHRoaXMuX2lzQ292ZXJlZEJ5Tm90VGVzdHM9ZS5faXNDb3ZlcmVkQnlOb3RUZXN0cyx0aGlzLl9jb25zb2xlTG9nPWUuX2NvbnNvbGVMb2csdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYodGhpcy5fZmFpbGVkQnlNZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2dsb2JhbEVycm9ycyYmKHRoaXMuX2dsb2JhbEVycm9ycz1bXSksZS5fY292ZXJpbmdUZXN0TWFwPyh0JiYhbj8odGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLF8uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKTtpLl9jb3ZlcmluZ1Rlc3RNYXBbdF09ZSxlLmNvdmVycyhpKSxpLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyhlKX0pKTppLl9mYWlsZWRPbk1lVGVzdHM/Xy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXtyZXR1cm4gaS5fdXBkYXRlVGVzdFdpdGhQb3NzaWJsZUZhaWxlZE9uVGhlUmFuZ2UoZSxlLmtleSgpKX0pOl8uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3VwZGF0ZVRlc3QoZSxlLmtleSgpKX0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSk6KHRoaXMuX2NvdmVyaW5nVGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz0wLHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSksdm9pZCB0aGlzLl9zZXRJc0NvdmVyZWQoKSl9LGUucHJvdG90eXBlLl91cGRhdGVUZXN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY292ZXJpbmdUZXN0TWFwW3RdPWUsZS5jb3ZlcnModGhpcyksdGhpcy5fYWRkRmFpbGVkT25NZVRlc3RJZkZhaWxpbmcoZSl9LGUucHJvdG90eXBlLl91cGRhdGVUZXN0V2l0aFBvc3NpYmxlRmFpbGVkT25UaGVSYW5nZT1mdW5jdGlvbihlLHQpe2RlbGV0ZSB0aGlzLl9mYWlsZWRPbk1lVGVzdHNbdF0sdGhpcy5fdXBkYXRlVGVzdChlLHQpfSxlLnByb3RvdHlwZS5pc0luc2lkZU9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdGFydExpbmU+PWUuX3N0YXJ0TGluZSYmZS5fZW5kTGluZT49dGhpcy5fZW5kTGluZSYmKHRoaXMuX3N0YXJ0TGluZT5lLl9zdGFydExpbmV8fHRoaXMuX3N0YXJ0Q29sdW1uPj1lLl9zdGFydENvbHVtbikmJihlLl9lbmRMaW5lPnRoaXMuX2VuZExpbmV8fGUuX2VuZENvbHVtbj49dGhpcy5fZW5kQ29sdW1uKX0sZS5wcm90b3R5cGUuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nPWZ1bmN0aW9uKGUpe2UuaXNGYWlsaW5nKCkmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHN8fCh0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZmFpbGVkT25NZVRlc3RzW2Uua2V5KCldPWUpfSxlLnJhbmdlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIi4iKX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi9kb2N1bWVudExpbmUiKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZT0hMX1yZXR1cm4gZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLHM9dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU7ZGVsZXRlIHRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlLG4/KHRoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSk6dCYmXy5lYWNoKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKGUpe2UucmVtb3ZlUmFuZ2VzKCl9KTt2YXIgbz1bXSxhPVtdO18uZWFjaChlLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGlzcG9zZWQoKSl7dmFyIG49ZS5zdGFydExpbmUoKSxzPXIuX2xpbmVzW25dO3N8fChzPW5ldyBpKG4pLHIuX2xpbmVzW25dPXMsYS5wdXNoKHMpKSxzLmFkZFJhbmdlKGUsdCksby5wdXNoKHMpfX0pO3ZhciBsPU9iamVjdC5jcmVhdGUobnVsbCk7bz10JiYhbj9fLnZhbHVlcyh0aGlzLl9saW5lcykuY29uY2F0KGEpOm8sXy5lYWNoKG8sZnVuY3Rpb24oZSl7ZS5oYXNSYW5nZXMoKT9lLnVwZGF0ZUxpbmVEYXRhKCkmJihsW2Uua2V5KCldPWUpOihlLmRpc3Bvc2UoKSxkZWxldGUgci5fbGluZXNbZS5udW1iZXIoKV0sci5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpKX0pO3ZhciBjPXRoaXMuX3JlY3ljbGVkTGluZXMuc2xpY2UoKTtyZXR1cm4gdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx7bGluZXM6bj9fLm1hcCh0aGlzLl9saW5lcyxmdW5jdGlvbihlKXtyZXR1cm4gci5fY29tcGFjdExpbmUoZSl9KTpfLm1hcChzP3RoaXMuX2xpbmVzOmwsZnVuY3Rpb24oZSl7dmFyIHQ9ci5fY29tcGFjdExpbmUoZSk7cmV0dXJuIHQuY2hhbmdlZD1zPyEhbFtlLmtleSgpXXx8dm9pZCAwOjEsdH0pLmNvbmNhdChfLm1hcChjLGZ1bmN0aW9uKGUpe3JldHVybntpZDplLmtleSgpLGRlbDoxfX0pKSxhbGxMaW5lczpufHxzfX0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbGluZXNbZV19LGUucHJvdG90eXBlLmFsbExpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm57bGluZXM6Xy5tYXAodGhpcy5fbGluZXMsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NvbXBhY3RMaW5lKHQpfSksYWxsTGluZXM6ITB9fSxlLnByb3RvdHlwZS5fY29tcGFjdExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUua2V5KCksbnVtOmUubnVtYmVyKCksc3RhdGU6ZS5zdGF0ZSgpLGxvZzplLmNvbnNvbGVMb2dUZXh0KCksbG9uZ0xvZzpwcm9jZXNzLmVudi5xdW9ra2E/ZS5sb25nQ29uc29sZUxvZ1RleHQoKTp2b2lkIDAsZXJyOmUuZXJyb3JTb3VyY2VUZXh0KCl9fSxlLnByb3RvdHlwZS5pbnZhbGlkYXRlTGluZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZT0hMCxfLmVhY2goXy5yYW5nZShlLnN0YXJ0LGUuZW5kKSxmdW5jdGlvbihuKXt2YXIgaT10Ll9saW5lc1tuXTtpJiZ0Ll9yZWN5Y2xlTGluZUlmSW5DaGFuZ2VGcmFtZShpLGUpfSl9LGUucHJvdG90eXBlLnNoaWZ0TGluZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITA7dmFyIHI9Xy52YWx1ZXModGhpcy5fbGluZXMpO3RoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKHIsZnVuY3Rpb24ocil7dmFyIHM9ci5udW1iZXIoKTtpZighaS5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWUocixuKSl7cz5lJiYocys9dCxyLm51bWJlcihzKSk7dmFyIG89aS5fbGluZXNbc107bz8oby5kaXNwb3NlKCksci5kaXNwb3NlKCksaS5fcmVjeWNsZWRMaW5lcy5wdXNoKG8pLGkuX3JlY3ljbGVkTGluZXMucHVzaChyKSxkZWxldGUgaS5fbGluZXNbc10pOmkuX2xpbmVzW3NdPXJ9fSl9LGUucHJvdG90eXBlLl9yZWN5Y2xlTGluZUlmSW5DaGFuZ2VGcmFtZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUubnVtYmVyKCk7cmV0dXJuIG4+PXQuc3RhcnQmJm48PXQuZW5kPyhlLmRpc3Bvc2UoKSx0aGlzLl9yZWN5Y2xlZExpbmVzLnB1c2goZSksITApOnZvaWQgMH0sZX0oKTt0LmV4cG9ydHM9cn0seyIuL2RvY3VtZW50TGluZSI6Nn1dLDY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi4vc2hhcmVkL2VudW1zIikubGluZVN0YXRlLHI9MTI4LHM9MjYyMTQ0LG89MTI4LGE9MCxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9saW5lTnVtYmVyPWUsdGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5faWQ9KythfXJldHVybiBlLnByb3RvdHlwZS5oYXNSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4hXy5pc0VtcHR5KHRoaXMuX3Jhbmdlcyl9LGUucHJvdG90eXBlLnJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9LGUucHJvdG90eXBlLnVwZGF0ZUxpbmVEYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSEwLG49ITAsYT0hMSxsPSExLGM9dGhpcy5fbGluZVN0YXRlLHU9dGhpcy5fY29uc29sZUxvZ1RleHQsZD10aGlzLl9lcnJvclNvdXJjZVRleHQ7cmV0dXJuIGRlbGV0ZSB0aGlzLl9jb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fbG9uZ0NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsXy5lYWNoKHRoaXMuX3JhbmdlcyxmdW5jdGlvbihpKXt2YXIgcz1pLmNvbnNvbGVMb2coKTtpZihzJiZzLmxlbmd0aCl7Xy5pc1N0cmluZyhlLl9jb25zb2xlTG9nVGV4dCl8fChlLl9jb25zb2xlTG9nVGV4dD0iIik7dmFyIGM9cy5sZW5ndGg+cix1PShjP3Muc2xpY2Uocy5sZW5ndGgtcik6cykuam9pbigiLCAiKTtpZih1Lmxlbmd0aD5yJiYodT0oMD09PXUuaW5kZXhPZigidGhlbiAiKT8idGhlbiAiOiIiKSsiLi4uICIrdS5zdWJzdHIodS5sZW5ndGgtcis0KSksZS5fY29uc29sZUxvZ1RleHQrPShlLl9jb25zb2xlTG9nVGV4dD8iIHwgIjoiIikrdSxwcm9jZXNzLmVudi5xdW9ra2Epe18uaXNTdHJpbmcoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0KXx8KGUuX2xvbmdDb25zb2xlTG9nVGV4dD0iIik7dmFyIGQ9cy5sZW5ndGg+MWUzLGg9KGQ/IiAgLi4uXG4iOiIiKSsiICIrKGQ/cy5zbGljZShzLmxlbmd0aC0xZTMpOnMpLmpvaW4oIiBcbiAiKTtlLl9sb25nQ29uc29sZUxvZ1RleHQrPShlLl9sb25nQ29uc29sZUxvZ1RleHQ/IlxuLS0tXG4iOiIiKStofX1pZihpLmlzRXJyb3JTb3VyY2UoKSl7YT0hMDt2YXIgcD1pLmVycm9ycygpO2lmKHAubGVuZ3RoKXt2YXIgZj1wWzBdLm1lc3NhZ2UoKTtlLl9lcnJvclNvdXJjZVRleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGZ8fCIiLG8pfX1pLmlzT25FcnJvclBhdGgoKSYmKGw9ITApLGkuaXNDb3ZlcmVkKCk/bj0hMTp0PSExfSksZS5fY29uc29sZUxvZ1RleHQmJihwcm9jZXNzLmVudi5xdW9ra2EmJihlLl9sb25nQ29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2xvbmdDb25zb2xlTG9nVGV4dCxzLCEwKSksZS5fY29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2NvbnNvbGVMb2dUZXh0LHIpKSx0aGlzLl9saW5lU3RhdGU9YT9pLmVycm9yU291cmNlOmw/aS5lcnJvclBhdGg6bj9pLm5vdENvdmVyZWQ6dD9pLmZ1bGx5Q292ZXJlZDppLnBhcnRpYWxseUNvdmVyZWQsdGhpcy5fbGluZVN0YXRlIT09Y3x8dGhpcy5fY29uc29sZUxvZ1RleHQhPT11fHx0aGlzLl9lcnJvclNvdXJjZVRleHQhPT1kfSxlLnByb3RvdHlwZS5jb25zb2xlTG9nVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTG9nVGV4dH0sZS5wcm90b3R5cGUubG9uZ0NvbnNvbGVMb2dUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvbmdDb25zb2xlTG9nVGV4dH0sZS5wcm90b3R5cGUuZXJyb3JTb3VyY2VUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yU291cmNlVGV4dH0sZS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZVN0YXRlfSxlLnByb3RvdHlwZS5hZGRSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUua2V5KCk7dHx8ZGVsZXRlIHRoaXMuX3Jhbmdlc1tuXSx0aGlzLl9yYW5nZXNbbl09ZX0sZS5wcm90b3R5cGUucmVtb3ZlUmFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCl9LGUucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5fbGluZU51bWJlcjtpZihfLmlzVW5kZWZpbmVkKGUpKXJldHVybiBuO2lmKGUhPT1uKXt0aGlzLl9saW5lTnVtYmVyPWU7dmFyIGk9ZS1uLHI9Xy52YWx1ZXModGhpcy5fcmFuZ2VzKTt0aGlzLnJlbW92ZVJhbmdlcygpLF8uZWFjaChyLGZ1bmN0aW9uKGUpe2UubGluZVNoaWZ0KGkpLHQuX3Jhbmdlc1tlLmtleSgpXT1lfSl9fSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVSYW5nZXMoKSxkZWxldGUgdGhpcy5fY29uc29sZUxvZ1RleHQsZGVsZXRlIHRoaXMuX2Vycm9yU291cmNlVGV4dCxkZWxldGUgdGhpcy5fbGluZVN0YXRlLHRoaXMuX2lzRGlzcG9zZWQ9ITB9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlLnByb3RvdHlwZS5fdHJ1bmNhdGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1lLmxlbmd0aD50PyIuLi4iOiIiO3JldHVybiBlPWUuc3Vic3RyKDAsdCksKG4/ZTp0aGlzLl9jbGVhblN0cmluZyhlKSkraX0sZS5wcm90b3R5cGUuX2NsZWFuU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlcGxhY2UoL1xyXG5ccyovZywiICIpLnJlcGxhY2UoL1xuXHMqL2csIiAiKX0sZX0oKTt0LmV4cG9ydHM9bH0seyIuLi9zaGFyZWQvZW51bXMiOjE0fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL3N0YWNrRW50cnkiKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9hY3R1YWw9ZS5hY3R1YWwsdGhpcy5fZXhwZWN0ZWQ9ZS5leHBlY3RlZCx0aGlzLl9tZXNzYWdlPWUubWVzc2FnZSx0aGlzLl9zdGFjaz1lLnN0YWNrLHRoaXMuX2NvbnRleHQ9ZS5jb250ZXh0fHx7fX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9zdGFjazt0aGlzLl9zdGFjaz1bXSxfLmVhY2godCxmdW5jdGlvbih0LG4pe3JldHVybiBlLl9zdGFjay5wdXNoKG5ldyBpKHRbMF0sdFsxXSxlLl9jb250ZXh0W25dKSl9KSxkZWxldGUgdGhpcy5fY29udGV4dH0sZS5wcm90b3R5cGUuc3RhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2t9LGUucHJvdG90eXBlLm1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZX0sZS5wcm90b3R5cGUuYWN0dWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdHVhbH0sZS5wcm90b3R5cGUuZXhwZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwZWN0ZWR9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybih0aGlzLl9tZXNzYWdlfHwiIikrXy5yZWR1Y2UodGhpcy5fc3RhY2ssZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSs9dC5rZXkoKX0sIiIpfSxlfSgpO3QuZXhwb3J0cz1yfSx7Ii4vc3RhY2tFbnRyeSI6MTJ9XSw4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vZXJyb3JFbnRyeSIpLHI9KGUoIi4vc3RhY2tFbnRyeSIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9pZD1lLmlkLHRoaXMuX2ZpbGVJZD1lLmZpbGVJZCx0aGlzLl9sb2c9ZS5sb2csdGhpcy5fbmFtZT1lLm5hbWUsdGhpcy5fdGVzdHM9ZS50ZXN0cyx0aGlzLl9zdGFydD1lLnN0YXJ0LHRoaXMuX3RpbWU9ZS50aW1lLHRoaXMuX3Nsb3c9ZS5zbG93fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsbixyLHMpe3ZhciBvPXRoaXM7aWYodGhpcy5fcGFyZW50PXQsdGhpcy5faWQmJih0aGlzLl9idWlsZEZ1bGxOYW1lQW5kUGF0aCgpLHRoaXMuX3NldEtleSgpLHIodGhpcyksdGhpcy5fY292ZXJlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2NvdmVyZWRGaWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3RzPW4sdGhpcy5fbG9nJiZ0aGlzLl9sb2cubGVuZ3RoKSl7dGhpcy5faXNGYWlsaW5nPSEwO3ZhciBhPXRoaXMuX2xvZzt0aGlzLl9sb2c9W10sdGhpcy5fZXJyb3JTdGFja01hcD1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChhLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpO3QuaW5pdCgpLF8uZWFjaCh0LnN0YWNrKCksZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPW8uX2Vycm9yU3RhY2tNYXBbbl07aT9+Xy5pbmRleE9mKGksdCl8fGkucHVzaCh0KTooaT1bXSxpLnB1c2godCksby5fZXJyb3JTdGFja01hcFtuXT1pKSxpLnN0YWNrRW50cnk9ZSxzKGUpfSksby5fbG9nLnB1c2godCl9KX10aGlzLl90ZXN0cyYmKF8uZWFjaCh0aGlzLl90ZXN0cyxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCkuaW5pdChvLG4scixzKX0pLGRlbGV0ZSB0aGlzLl90ZXN0cyl9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fHwodGhpcy5fc2V0S2V5KCksdGhpcy5fa2V5KX0sZS5wcm90b3R5cGUuX3NldEtleT1mdW5jdGlvbigpe3RoaXMuX2tleT10aGlzLl9maWxlSWQrIl8iK3RoaXMuX2Z1bGxOYW1lfSxlLnByb3RvdHlwZS5maWxlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXN0RmlsZSYmdGhpcy5fdGVzdEZpbGUucGF0aCgpfSxlLnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LGUucHJvdG90eXBlLmVycm9ycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2d9LGUucHJvdG90eXBlLmFkZENvbnNvbGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbnNvbGVNZXNzYWdlc3x8KHRoaXMuX2NvbnNvbGVNZXNzYWdlcz1bXSksdGhpcy5fY29uc29sZU1lc3NhZ2VzLnB1c2goZSl9LGUucHJvdG90eXBlLmNvbnNvbGVNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTWVzc2FnZXN9LGUucHJvdG90eXBlLmlzRmFpbGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0ZhaWxpbmd9LGUucHJvdG90eXBlLnNsb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xvd30sZS5wcm90b3R5cGUuc2V0VGVzdEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fdGVzdEZpbGU9ZX0sZS5wcm90b3R5cGUub2Jzb2xldGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZGVsZXRlIHRoaXMuX3N0YXJ0UmFuZ2UsZGVsZXRlIHRoaXMuX3Rlc3RGaWxlLHRoaXMuX2NvdmVyZWRSYW5nZXMmJihfLmVhY2godGhpcy5fY292ZXJlZFJhbmdlcyxmdW5jdGlvbihuKXtpZihuLm5vdENvdmVyZWRCeShlKSwhbi5pc0Rpc3Bvc2VkKCkpe3ZhciBpPW4uc291cmNlRmlsZSgpO3RbaS5rZXkoKV09aX19KSxkZWxldGUgdGhpcy5fY292ZXJlZFJhbmdlcyksZGVsZXRlIHRoaXMuX2Vycm9yU3RhY2tNYXAsZGVsZXRlIHRoaXMuX2NvbnNvbGVNZXNzYWdlcyxkZWxldGUgdGhpcy5fY292ZXJlZEZpbGVzLHR9LGUucHJvdG90eXBlLmNvdmVycz1mdW5jdGlvbihlKXt0aGlzLl9jb3ZlcmVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIHQ9ZS5zb3VyY2VGaWxlKCk7dCYmIXQuaXNUZXN0RmlsZSgpJiYodGhpcy5fY292ZXJlZEZpbGVzW3Qua2V5KCldPXQpfSxlLnByb3RvdHlwZS5jb3ZlcmVkRmlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gXy5tYXAodGhpcy5fY292ZXJlZEZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9LGUucHJvdG90eXBlLnN0YXJ0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRSYW5nZX0sZS5wcm90b3R5cGUuY29tcGxldGVJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2Vycm9yU3RhY2tNYXAmJl8uZWFjaCh0aGlzLl9lcnJvclN0YWNrTWFwLGZ1bmN0aW9uKG4pe3ZhciBpPW4uc3RhY2tFbnRyeTtpZihpKXt2YXIgcj1lW2kuZmlsZUlkKCldO2lmKHIpe3ZhciBzPXIuY2xvc2VzdFJhbmdlKGkubGluZSgpKTtzJiYoaS5zZXRSYW5nZShzKSxzLmZhaWxzVGVzdCh0LG4pKX19fSksdGhpcy5fY29uc29sZU1lc3NhZ2VzJiZfLmVhY2godGhpcy5fY29uc29sZU1lc3NhZ2VzLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSgpO3QmJmUuc2V0UmFuZ2UodC5jbG9zZXN0UmFuZ2UoZS5saW5lKCkpKX0pLHRoaXMuX2NvdmVyZWRSYW5nZXMmJihfLmlzVW5kZWZpbmVkKHRoaXMuX3N0YXJ0KXx8KHRoaXMuX3N0YXJ0UmFuZ2U9dGhpcy5fdGVzdEZpbGUuY2xvc2VzdFJhbmdlKHRoaXMuX3N0YXJ0KSxkZWxldGUgdGhpcy5fc3RhcnQpLHRoaXMuX3N0YXJ0UmFuZ2V8fF8uZWFjaCh0aGlzLl9jb3ZlcmVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciBuPWUuc291cmNlRmlsZSgpO249PXQuX3Rlc3RGaWxlJiYodC5fc3RhcnRSYW5nZT9lLmVuZExpbmUoKTx0Ll9zdGFydFJhbmdlLmVuZExpbmUoKSYmKHQuX3N0YXJ0UmFuZ2U9ZSk6dC5fc3RhcnRSYW5nZT1lKX0pKX0sZS5wcm90b3R5cGUucGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXRofSxlLnByb3RvdHlwZS50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90c30sZS5wcm90b3R5cGUuX2J1aWxkRnVsbE5hbWVBbmRQYXRoPWZ1bmN0aW9uKCl7dmFyIGU9W107ZS5wdXNoKHRoaXMuX25hbWUpO2Zvcih2YXIgdD10aGlzLl9wYXJlbnQ7bnVsbCE9dDspe3ZhciBuPXQuX25hbWU7ZS5wdXNoKG4pLHQ9dC5fcGFyZW50fWUucmV2ZXJzZSgpLHRoaXMuX2Z1bGxOYW1lPWUuam9pbigi4piGIiksdGhpcy5fcGF0aD1lfSxlfSgpKTt0LmV4cG9ydHM9cn0seyIuL2Vycm9yRW50cnkiOjcsIi4vc3RhY2tFbnRyeSI6MTJ9XSw5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscz1lKCJwYXRoIiksbz1lKCJjaG9raWRhciIpLkZTV2F0Y2hlcixhPWUoIm1pbmltYXRjaCIpLGw9ZSgiLi4vc2hhcmVkL3V0aWxzIiksYz0xZTMsdT01MDAsZD01MCxoPXthcGs6MSxibXA6MSxjZ206MSxnMzoxLGdpZjoxLGllZjoxLGlyeDoxLGpwZWc6MSxqcGc6MSxqcGU6MSxrdHg6MSxwbmc6MSxidGlmOjEsc2dpOjEsc3ZnOjEsc3ZnejoxLHRpZmY6MSx0aWY6MSxwc2Q6MSx1dmk6MSx1dnZpOjEsdXZnOjEsdXZ2ZzoxLGRqdnU6MSxkanY6MSxzdWI6MSxkd2c6MSxkeGY6MSxmYnM6MSxmcHg6MSxmc3Q6MSxtbXI6MSxybGM6MSxtZGk6MSx3ZHA6MSxucHg6MSx3Ym1wOjEseGlmOjEsd2VicDoxLCIzZHMiOjEscmFzOjEsY214OjEsZmg6MSxmaGM6MSxmaDQ6MSxmaDU6MSxmaDc6MSxpY286MSxzaWQ6MSxwY3g6MSxwaWM6MSxwY3Q6MSxwbm06MSxwYm06MSxwZ206MSxwcG06MSxyZ2I6MSx0Z2E6MSx4Ym06MSx4cG06MSx4d2Q6MSxiaW46MSx4bHM6MSx4bHN4OjEsemlwOjEsbXA0OjEsbW86MSxub2RlOjEsZHVtcDoxLGRsbDoxLG1hcDoxLGxpYjoxLGV4cDoxLG9iajoxLHBkYjoxLGd6aXA6MSxnejoxLGRiOjEsZG9jeDoxfSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2RpZmZNYXRjaFBhdGNoPWkuZGlmZk1hdGNoUGF0Y2gsci5fYmFzZURpcj1uLHIuX2lzUmVhZHk9ITEsci5faXNTdG9wcGVkPSExLHIuX2ZpbGVzQnlQYXRoPU9iamVjdC5jcmVhdGUobnVsbCksci5fZmlsZXNCeUlkPU9iamVjdC5jcmVhdGUobnVsbCksci5fZmlsZUlkPTAsci5fbHJ1Q2FjaGU9ZSgibHJ1LWNhY2hlIikoe21heDoxMDQ4NTc2KmQsbGVuZ3RoOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH19KSxyLl9yZWFkRmlsZVByb21pc2U9aS5yZWFkRmlsZVByb21pc2Usci5fcmVhbHBhdGhTeW5jPWkucmVhbHBhdGhTeW5jLHJ9cmV0dXJuIHIobix0KSxuLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsYT10aGlzO2k9ZSgiZGVidWciKSgid2FsbGFieTpmcyIpO3ZhciBsPVtdLGQ9W10saD17fSxwPXt9LGY9MDtfLmVhY2godCxmdW5jdGlvbihlKXtlLmlnbm9yZT9kLnB1c2goZSk6KGwucHVzaChlKSxlLm9yZGVyPSsrZil9KTt2YXIgeT1uJiZuLmdsb2I7biYmbi5maWxlU2NhblRpbWVvdXQmJihjPXU9bi5maWxlU2NhblRpbWVvdXQpO3ZhciBnPXRoaXMuX2lzSW5jbHVkZWQoYS5fYmFzZURpcixsLGQsaCx5KSx2PXtpZ25vcmVJbml0aWFsOiExLGlnbm9yZVBlcm1pc3Npb25FcnJvcnM6ITAsdXNlUG9sbGluZzoiZGFyd2luIj09PXByb2Nlc3MucGxhdGZvcm18fCJsaW51eCI9PT1wcm9jZXNzLnBsYXRmb3JtLGlnbm9yZWQ6ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4hMTtpZih0LmlzU3ltYm9saWNMaW5rKCkpdHJ5e3BbZV09e3BhdGg6ZSxyZWFsUGF0aDphLl9yZWFscGF0aFN5bmMoZSl9fWNhdGNoKG4pe312YXIgaT10LmlzRmlsZSgpO2lmKCFpKXt2YXIgbz1yLl9pc0VudGl0eUV4Y2x1ZGVkKHMuam9pbihzLnJlbGF0aXZlKGEuX2Jhc2VEaXIsZSksIi8iKSxkLHkpO3JldHVybiBvLmZpbGUmJm8udGVzdH12YXIgbD0hZyhlLHQpO2lmKGwpe3ZhciBjPV8uZmluZChwLGZ1bmN0aW9uKHQpe3JldHVybiBfLnN0YXJ0c1dpdGgoZSx0LnJlYWxQYXRoKX0pO2MmJihsPSFnKGUucmVwbGFjZShjLnJlYWxQYXRoLGMucGF0aCksdCkpfXJldHVybiBsfSxjd2Q6YS5fYmFzZURpcn07aWYoYS5faGFzR2xvYkNoYXJzKGEuX2Jhc2VEaXIpKXRocm93IG5ldyBFcnJvcigiWW91ciBwcm9qZWN0IGZpbGUgcGF0aCBjb250YWlucyBnbG9iIGNoYXJhY3RlcnMsIGxpa2UgYHtgLCBgfWAsIGBbYCwgYF1gLCBgKGAsIGApYCwgYCpgLCBgfGAgYW5kIGl0IG1heSBjYXVzZSB0aGUgcHJvamVjdCBmaWxlIHNjYW5uaW5nIHRvIGZhaWwsIHBsZWFzZSByZW1vdmUgZ2xvYiBjaGFyYWN0ZXJzIGZyb20gdGhlIHByb2plY3QgcGF0aC4iKTt0aGlzLl93YXRjaGVyPW5ldyBvKHYpO3ZhciBtPV8ucmVkdWNlKGwsZnVuY3Rpb24oZSx0KXt2YXIgbj1hLl9nZXRCYXNlRGlyKHQucGF0dGVybik7cmV0dXJuIGVbbl09bixlfSx7fSk7Xy5lYWNoKG0sZnVuY3Rpb24oZSl7aWYoIV8uZmluZChtLGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZSYmZS5zdWJzdHIoMCx0Lmxlbmd0aCsxKT09PXQrIi8ifSkpe3ZhciB0PXZvaWQgMCxuPXMubm9ybWFsaXplKHMuam9pbihhLl9iYXNlRGlyLGUpKTt0cnl7dD1zLm5vcm1hbGl6ZShhLl9yZWFscGF0aFN5bmMobikpfWNhdGNoKHIpe310JiZ0IT09bj8oaSgiUG9zc2libGUgc3ltbGluazogJXMgLT4gJXMiLHQsbiksaFt0XT17cmVhbFBhdGg6dCxsaW5rZWRQYXRoOm59LGEuX3dhdGNoZXIuYWRkKHQpKTphLl93YXRjaGVyLmFkZChlKX19KTt2YXIgVDtyZXR1cm4gUS5wcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7YS5faXNSZWFkeXx8KGEuX2lzUmVhZHk9ITAsdCYmaSgiRmlsZSBzeXN0ZW0gc2NhbiBoYXMgZmluaXNoZWQgYnkgdGltZW91dCIpLGUoYS5fZmlsZXNCeVBhdGgpKX07dHJ5e2EuX3dhdGNoZXIub24oImFsbCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoVCksVD1zZXRUaW1lb3V0KF8uYmluZChuLG51bGwsITApLGMpfSkub24oImFkZCIsXy5iaW5kKGEuX3dpdGhOb3JtYWxpemVkUGF0aCxhLGEuX2ZpbGVBZGRlZCkpLm9uKCJjaGFuZ2UiLF8uYmluZChhLl93aXRoTm9ybWFsaXplZFBhdGgsYSxhLl9maWxlQ2hhbmdlZCkpLm9uKCJ1bmxpbmsiLF8uYmluZChhLl93aXRoTm9ybWFsaXplZFBhdGgsYSxhLl9maWxlRGVsZXRlZCkpLm9uKCJyZWFkeSIsXy5kZWJvdW5jZShuLHUpKS5vbigiZXJyb3IiLF8uYmluZChhLmVtaXQsYSwiZXJyb3IiKSl9Y2F0Y2gocil7dChyKX19KX0sbi5wcm90b3R5cGUuX2hhc0dsb2JDaGFycz1mdW5jdGlvbihlKXtyZXR1cm5+ZS5pbmRleE9mKCIoIil8fH5lLmluZGV4T2YoIikiKXx8fmUuaW5kZXhPZigifCIpfHx+ZS5pbmRleE9mKCJ7Iil8fH5lLmluZGV4T2YoIn0iKXx8fmUuaW5kZXhPZigiKiIpfHx+ZS5pbmRleE9mKCJbIil8fH5lLmluZGV4T2YoIl0iKX0sbi5wcm90b3R5cGUubG9hZEZpbGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFEuYWxsKF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2xvYWRGaWxlKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZW1pdCgibG9hZGVkIixlKX0pfSkpfSxuLnByb3RvdHlwZS5maWxlQ2hhbmdlZEluRWRpdG9yPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl9maWxlc0J5UGF0aFtlXTtpZihyJiYhci5iaW5hcnkpe2koIkZpbGUgY2hhbmdlZCBpbiBlZGl0b3I6ICVzIixyLnBhdGgpO3ZhciBzPXRoaXMuX2xydUNhY2hlLmdldChyLnBhdGgpO3RoaXMuX2xydUNhY2hlLnNldChyLnBhdGgsdCksci5jaGFuZ2VUcysrLHRoaXMuX2VtaXRGaWxlQ2hhbmdlKF8uZXh0ZW5kKHt9LHIse2NvbnRlbnQ6dH0pLHMsbil9fSxuLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faXNTdG9wcGVkPSEwLHRoaXMuX3dhdGNoZXImJih0aGlzLl93YXRjaGVyLmNsb3NlKCksZGVsZXRlIHRoaXMuX2xydUNhY2hlKX0sbi5wcm90b3R5cGUuaWRCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYodClyZXR1cm4gdC5pZH0sbi5wcm90b3R5cGUuX2xvYWRGaWxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbGVzQnlJZFtlXTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIGZpbGUgd2l0aCBpZCAiK2UrIiBmb3VuZCIpO3JldHVybiB0aGlzLl9sb2FkRmlsZVdpdGhDYWNoZSh0KX0sbi5wcm90b3R5cGUuX2xvYWRGaWxlV2l0aENhY2hlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1lLmNoYW5nZVRzLGk9dGhpcy5fbHJ1Q2FjaGUuZ2V0KGUucGF0aCk7cmV0dXJuKF8uaXNVbmRlZmluZWQoaSk/dGhpcy5fcmVhZEZpbGVQcm9taXNlKHMuam9pbih0Ll9iYXNlRGlyLGUucGF0aCkpOlEud2hlbihpKSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gaT1pP2UuYmluYXJ5P2kudG9TdHJpbmcoImJhc2U2NCIpOmkudG9TdHJpbmcoKToiIix0Ll9pc1N0b3BwZWR8fG4hPT1lLmNoYW5nZVRzfHx0Ll9scnVDYWNoZS5zZXQoZS5wYXRoLGkpLFEud2hlbihfLmV4dGVuZCh7fSxlLHtjb250ZW50Oml9KSl9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gdC5lbWl0KCJlcnJvciIsZSl9KX0sbi5wcm90b3R5cGUuX2ZpbGVBZGRlZD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoaSgiRmlsZSBhZGRlZDogJXMiLGUpLHQmJnQubWV0YWRhdGEpe3ZhciByPXQubWV0YWRhdGEsbz1zLmV4dG5hbWUoZSkuc3Vic3RyKDEpO3IuY2hhbmdlVHM9MSxyLmlkPSsrdGhpcy5fZmlsZUlkLHIudHM9dC5tdGltZS5nZXRUaW1lKCksci50eXBlPW8mJm8udG9Mb3dlckNhc2UoKSxyLmJpbmFyeT1yLmJpbmFyeXx8aFtyLnR5cGVdLHIucGF0aD1lLHRoaXMuX2ZpbGVzQnlQYXRoW2VdPXIsdGhpcy5fZmlsZXNCeUlkW3IuaWRdPXIsdGhpcy5faXNSZWFkeSYmKHRoaXMuX2xydUNhY2hlLmRlbChlKSx0aGlzLl9sb2FkRmlsZVdpdGhDYWNoZShyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLmVtaXQoImFkZGVkIixlKX0pKX1lbHNlIGkoIk5vIG1ldGFkYXRhIGZvciBhZGRlZCBmaWxlIGZvdW5kOiAlcyIsZSl9LG4ucHJvdG90eXBlLl9maWxlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2koIkZpbGUgY2hhbmdlZDogJXMiLGUpO3ZhciBuPXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKG4pe2lmKHRoaXMuX2lzUmVhZHkpe3ZhciByPXRoaXMuX2xydUNhY2hlLmdldChlKTt0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHM9KytuLmNoYW5nZVRzO3RoaXMuX2xvYWRGaWxlV2l0aENhY2hlKG4pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhbmdlVHM9PT1zJiZ0Ll9lbWl0RmlsZUNoYW5nZShlLHIpfSl9fWVsc2UgaSgiTm8gbWV0YWRhdGEgZm9yIGNoYW5nZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fZW1pdEZpbGVDaGFuZ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuY29udGVudDtpZihfLmlzU3RyaW5nKHQpKXt2YXIgcz10aGlzLl9kaWZmTWF0Y2hQYXRjaC5wYXRjaF9tYWtlKHQscik7aWYoIXMubGVuZ3RoKXJldHVybiBpKCJObyBjaGFuZ2VzIGRldGVjdGVkIGZvciAlcyIsZS5wYXRoKSx2b2lkIHRoaXMuZW1pdCgibm90Q2hhbmdlZCIsZSxyLG4pO2UuY29udGVudD10aGlzLl9kaWZmTWF0Y2hQYXRjaC5wYXRjaF90b1RleHQocyl9dGhpcy5lbWl0KCJjaGFuZ2VkIixlLHIsbil9LG4ucHJvdG90eXBlLl9maWxlRGVsZXRlZD1mdW5jdGlvbihlKXtpKCJGaWxlIGRlbGV0ZWQ6ICVzIixlKSx0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07dD8oZGVsZXRlIHRoaXMuX2ZpbGVzQnlQYXRoW2VdLGRlbGV0ZSB0aGlzLl9maWxlc0J5SWRbdC5pZF0sdGhpcy5faXNSZWFkeSYmdGhpcy5lbWl0KCJkZWxldGVkIix0KSk6aSgiTm8gbWV0YWRhdGEgZm9yIGRlbGV0ZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fd2l0aE5vcm1hbGl6ZWRQYXRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmbi5saW5rZWRQYXRoJiYodD1uLmxpbmtlZFBhdGgpLGUuY2FsbCh0aGlzLGwubm9ybWFsaXplUGF0aCh0KSxuKX0sbi5wcm90b3R5cGUuX2lzSW5jbHVkZWQ9ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbz10aGlzO3JldHVybiBmdW5jdGlvbihsLGMpe3ZhciB1PWlbbF07aWYodSlsPXMucmVsYXRpdmUoZSx1LmxpbmtlZFBhdGgpLGMmJihjLmxpbmtlZFBhdGg9bCk7ZWxzZSBpZigwPT09bC5pbmRleE9mKGUpKWw9cy5yZWxhdGl2ZShlLGwpO2Vsc2V7dmFyIGQ9Xy5maW5kKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWwuaW5kZXhPZih0KX0pO2lmKCFkKXJldHVybiExO2w9cy5yZWxhdGl2ZShlLGwucmVwbGFjZShkLnJlYWxQYXRoLGQubGlua2VkUGF0aCkpLGMmJihjLmxpbmtlZFBhdGg9bCl9dmFyIGg9by5faXNFbnRpdHlFeGNsdWRlZChsLG4scik7aWYoaC5maWxlJiZoLnRlc3QpcmV0dXJuITE7dmFyIHA9cj8iLi8iK2w6bCxmPV8uY2xvbmUoXy5maW5kKHQsZnVuY3Rpb24oZSl7cmV0dXJuKCFoLmZpbGUmJiFlLnRlc3R8fCFoLnRlc3QmJmUudGVzdCkmJmEocCwocj8iLi8iOiIiKStlLnBhdHRlcm4pfSkpO3JldHVybiBjJiYoYy5tZXRhZGF0YT1mKSwhIWZ9fSxuLnByb3RvdHlwZS5faXNFbnRpdHlFeGNsdWRlZD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpLHIscz1uPyIuLyIrZTplLG89MCxsPXQubGVuZ3RoO2w+bztvKyspe3ZhciBjPXRbb10sdT1jLnRlc3Q7aWYoKCFpfHx1KSYmYShzLChuPyIuLyI6IiIpK2MucGF0dGVybikpe2lmKHUpe3I9YzticmVha31pPWN9fXJldHVybntmaWxlOmksdGVzdDpyfX0sbi5wcm90b3R5cGUuX2dldEJhc2VEaXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5ub3JtYWxpemVQYXRoKGUucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpcKi4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qW1whXCtdXCguKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKlwpXD8uKiQvLCIiKXx8cy5zZXApO3JldHVybiB0aGlzLl9oYXNHbG9iQ2hhcnModCkmJih0PSIuLyIpLHR9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXB9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSxjaG9raWRhcjp2b2lkIDAsZGVidWc6dm9pZCAwLCJscnUtY2FjaGUiOnZvaWQgMCxtaW5pbWF0Y2g6dm9pZCAwLHBhdGg6dm9pZCAwfV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscj0oZSgicGF0aCIpLGUoIm1pbmltYXRjaCIpKSxzPWUoIi4uL3NoYXJlZC91dGlscyIpLG89ZSgiLi90cmFja2VkU291cmNlRmlsZSIpLGE9ZSgiLi9jb3ZlcmFibGVSYW5nZSIpLGw9ZSgiLi9leGVjdXRlZFRlc3QiKSxjPWUoIi4vY29uc29sZU1lc3NhZ2UiKSx1PWUoIi4vZXJyb3JFbnRyeSIpLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXMsaT1uO24uX2ZpbGVJZEJ5UGF0aD10LmZpbGVJZEJ5UGF0aCxuLl9hbHdheXNTZW5kQWxsTGluZXM9dC5hbHdheXNTZW5kQWxsTGluZXMsbi5fZmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9udW1iZXJPZkFsbFJhbmdlcz0wLG4uX251bWJlck9mQ292ZXJlZFJhbmdlcz0wLG4uX2NvdmVyYWdlPXt2YWx1ZTowLGxvdzohMH0sbi5fdGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9mYWlsaW5nVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9nbG9iYWxFcnJvcnM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9jaGFuZ2VkPSEwLG4uX3Byb2plY3Q9dC5wcm9qZWN0O3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWlbInByb2plY3Q6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfTtyZXR1cm4gbi5fcHJvamVjdC5fbW9kZWw/bi5fcHJvamVjdC5vbigibWVzc2FnZSIscik6bi5fcHJvamVjdC5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0sMzApfSksbn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmNvbmZpZ0ZpbGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHMubm9ybWFsaXplUGF0aCh0aGlzLl9wcm9qZWN0LmNvbmZpZ0ZpbGVQYXRoKCkpfSx0LnByb3RvdHlwZS5wcm9qZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnByb2plY3ROYW1lKCl9LHQucHJvdG90eXBlLnByb2plY3RDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpfSx0LnByb3RvdHlwZS5sb3dDb3ZlcmFnZVRocmVzaG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkubG93Q292ZXJhZ2VUaHJlc2hvbGR9LHQucHJvdG90eXBlLmNvcmVWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3QuY29yZVZlcnNpb24oKX0sdC5wcm90b3R5cGUuZmlsZUJ5UGF0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlSWRCeVBhdGgoZSk7aWYodClyZXR1cm4gdGhpcy5fZmlsZXNbdF19LHQucHJvdG90eXBlLmZpbGVCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maWxlc1tlXX0sdC5wcm90b3R5cGUuZmlsZUNvbnRlbnRCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUpO3JldHVybiB0JiZ0aGlzLl9wcm9qZWN0LnJlYWRTb3VyY2VGaWxlKHQua2V5KCkpfSx0LnByb3RvdHlwZS50ZXN0c0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlLmZpbGUpe3ZhciBuPXRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpO24mJihlLmxpbmV8fCFuLmlzVGVzdEZpbGUoKT9fLmVhY2goZS5saW5lP24ubGluZVRlc3RzKGUubGluZSk6bi5jb3ZlcmluZ1Rlc3RzKCksZnVuY3Rpb24oZSl7dC5wdXNoKFtlLmZpbGVJZCgpXS5jb25jYXQoZS5wYXRoKCkpKX0pOnQucHVzaChbbi5rZXkoKV0pKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiBfLmNoYWluKGUubGluZT90LmxpbmVSYW5nZXMoZS5saW5lKTp0LnJhbmdlcygpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNDb3ZlcmVkKCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2Uuc3RhcnRMaW5lKCksZS5zdGFydENvbHVtbigpLGUuZW5kTGluZSgpLGUuZW5kQ29sdW1uKCldfSkudmFsdWUoKX0sdC5wcm90b3R5cGUubGluZVJlcG9ydEJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiB0aGlzLl9saW5lUmVwb3J0KHQsZS5saW5lKX0sdC5wcm90b3R5cGUubG9jYXRpb25CeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lKGUpO2lmKHQpe2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpe3ZhciBuPXQuc3RhcnRSYW5nZSgpO3JldHVybiBuP3tmaWxlOnQuZmlsZVBhdGgoKSxsb2M6W24uc3RhcnRMaW5lKCksbi5zdGFydENvbHVtbigpXX06e319aWYoImVycm9yU291cmNlIj09PWUudHlwZSl7dmFyIGk9Xy5maW5kKHQuZXJyb3JzKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc3RhY2smJmUuc3RhY2soKS5sZW5ndGh9KTtpZighaSl7dmFyIG49dC5zdGFydFJhbmdlKCk7cmV0dXJuIG4/e2ZpbGU6dC5maWxlUGF0aCgpLGxvYzpbbi5zdGFydExpbmUoKSxuLnN0YXJ0Q29sdW1uKCldfTp7fX12YXIgcj1pLnN0YWNrKClbMF0scz1yLnJhbmdlKCksbz17fTtyZXR1cm4gby5maWxlPXIuZmlsZVBhdGgoKSxzJiYoby5sb2M9W3Muc3RhcnRMaW5lKCkscy5zdGFydENvbHVtbigpXSksb319fSx0LnByb3RvdHlwZS5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSYmdGhpcy5maWxlQnlQYXRoKGUuZmlsZSksbj10JiZlLmxpbmUmJnQubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGUoZS5saW5lLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXJyb3JTb3VyY2UoKXx8ZS5pc09uRXJyb3JQYXRoKCl9KVswXTtyZXR1cm4gbiYmbi5pc0ZhaWxpbmcoKXx8KG49dGhpcy5sYXRlc3RGYWlsaW5nVGVzdCgpKSxufSx0LnByb3RvdHlwZS5lcnJvckJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sYXRlc3RGYWlsaW5nVGVzdEJ5RmlsZUFuZExpbmUoZSk7aWYodCl7dmFyIG49dC5lcnJvcnMoKTtpZighbi5sZW5ndGgpcmV0dXJuO3ZhciBpPXQuZmlsZUlkKCk7aWYoImVycm9yU291cmNlIj09PWUudHlwZSlyZXR1cm4gdGhpcy5fbWFwRXJyb3JzKF8uZmlsdGVyKG4sZnVuY3Rpb24odCl7cmV0dXJuIF8uZmluZCh0LnN0YWNrKCksZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlsZUlkKCk9PT1pJiZ0LmxpbmUoKT09PWUubGluZX0pfSkpWzBdO2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX21hcEVycm9ycyhuKVswXX19LHQucHJvdG90eXBlLmxhdGVzdEZhaWxpbmdUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF8ubGFzdChfLnZhbHVlcyh0aGlzLl9mYWlsaW5nVGVzdHMpKX0sdC5wcm90b3R5cGUuZnVsbFRlc3RSZXN1bHRzUmVwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bkVycm9yfHx7dG90YWxOdW1iZXI6Xy5zaXplKHRoaXMuX3Rlc3RzKSxmYWlsaW5nTnVtYmVyOl8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpLGVycm9yczp0aGlzLl9tYXBFcnJvcnModGhpcy5fZ2xvYmFsRXJyb3JzKSx0ZXN0czp0aGlzLl9tYXBUZXN0cyh0aGlzLl9mYWlsaW5nVGVzdHMpLnJldmVyc2UoKS52YWx1ZSgpfX0sdC5wcm90b3R5cGUuYWxsVGVzdEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uZmlsdGVyKHRoaXMuX2ZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVGVzdEZpbGUoKX0pfSx0LnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIGU9Xy5zaXplKHRoaXMuX3Rlc3RzKSx0PV8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpO3JldHVybnt0b3RhbDplLHBhc3NlZDplLXQsZmFpbGVkOnQsY292ZXJhZ2U6dGhpcy5fY292ZXJhZ2V9fSx0LnByb3RvdHlwZS5hbGxGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLm1hcCh0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgoKSxpZDplLmtleSgpfX0pfSx0LnByb3RvdHlwZS5nbG9iYWxFcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRXJyb3JzfSx0LnByb3RvdHlwZVsicHJvamVjdDpzdGFydGluZyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2FkZEZpbGUobmV3IG8oZSkpfSksdGhpcy5fZW1pdCgiYWxsRmlsZXMiLHtmaWxlczplLmZpbGVzfSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OmZpbGUiXT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUsbj1lWyJkZWxldGUiXSxpPXRoaXMuZmlsZUJ5SWQodC5pZCk7aWYoaSYmIW4mJnRoaXMuX2VtaXQoImZpbGVDaGFuZ2VkIix7ZmlsZTp0fSksaXx8bnx8KGk9bmV3IG8odCksdGhpcy5fYWRkRmlsZShpKSx0aGlzLl9lbWl0KCJmaWxlQWRkZWQiLHtmaWxlOnR9KSksaSYmbil7dGhpcy5fZGVsZXRlRmlsZSh0LmlkKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpLHM9aS5vd25UZXN0cygpO3RoaXMuX3Rlc3RzUmVtb3ZlZChzKSxfLmVhY2gocyxmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQocixlLm9ic29sZXRlKCkpfSksZGVsZXRlIHJbdC5pZF0saS5pc1Rlc3RGaWxlKCkmJnRoaXMuX2VtaXQoInRlc3RGaWxlRGVsZXRlZCIse2ZpbGU6dH0pLHRoaXMuX2VtaXQoImZpbGVEZWxldGVkIix7ZmlsZTp0fSksdGhpcy5fdXBkYXRlQWZmZWN0ZWRGaWxlcyhyKSx0aGlzLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2UoaSwhMCksdGhpcy5fdXBkYXRlVG90YWxDb3ZlcmFnZSgpLGkuZGlzcG9zZSgpfX0sdC5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fcmVwb3J0RmFpbGVkUnVuKGUubWVzc2FnZSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSZXN1bHRzIl09ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxyPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5fcmVwb3J0Tm9ybWFsUnVuKCksXy5lYWNoKGUudGVzdHMsZnVuY3Rpb24ocil7dmFyIHM9bmV3IGwocik7cy5pbml0KG51bGwsZS50cyxmdW5jdGlvbihlKXtpW2UuaWQoKV09ZSx0IT09ITEmJih0P3QuaXNGYWlsaW5nKCl8fCh0PWUuaXNGYWlsaW5nKCk/ZTohMSk6dD1lKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0RmlsZShuLmZpbGVCeUlkKGUuZmlsZUlkKCkpKX0pfSksXy5lYWNoKGUubG9nLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjKGUpLHI9dC50ZXN0SWQoKTtpZigwIT09cil7dmFyIHM9aVtyXTtzJiZzLmFkZENvbnNvbGVNZXNzYWdlKHQpfXZhciBvPXQuZmlsZUlkKCk7aWYobyl7dmFyIGE9bi5maWxlQnlJZChvKSxsPXQucmFuZ2UoKTthJiZsJiYoYS5zZXRSYW5nZUNvbnNvbGVMb2codC50ZXh0KCksbCksdC5zZXRGaWxlKGEpKX19KTt2YXIgcz1PYmplY3QuY3JlYXRlKG51bGwpLG89T2JqZWN0LmNyZWF0ZShudWxsKSxhPV8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue2NvdmVyYWdlOmUsZmlsZTpuLmZpbGVCeUlkKGUuaWQpfX0pLGQ9Xy5maWx0ZXIoYSxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUuaXNUZXN0RmlsZSgpLG49ZS5jb3ZlcmFnZS5jaGFuZ2VkJiYhZS5jb3ZlcmFnZS5zaW5nbGVUZXN0Q2hhbmdlZCxpPXQmJm47cmV0dXJuIGk/c1tlLmZpbGUua2V5KCldPWUuZmlsZTp0JiYob1tlLmZpbGUua2V5KCldPWUuZmlsZSksaX0pO18uZWFjaChkLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZTtuLl90ZXN0c1JlbW92ZWQodC5vd25UZXN0cygpKSxfLmVhY2godC5yZW1vdmVBbGxUZXN0cygpLGZ1bmN0aW9uKGUpe3JbZS5rZXkoKV09ZX0pfSksXy5lYWNoKGksZnVuY3Rpb24oZSl7dmFyIHQ9bi5maWxlQnlJZChlLmZpbGVJZCgpKTtfLmVhY2godC5hZGRUZXN0KGUpLGZ1bmN0aW9uKGUpe3JbZS5rZXkoKV09ZX0pLG4uX3Rlc3RBZGRlZChlKX0pLF8uZWFjaChhLGZ1bmN0aW9uKGUpe24uX3VwZGF0ZUZpbGVSYW5nZXMoZSxpKSxyW2UuZmlsZS5rZXkoKV09ZS5maWxlfSksXy5lYWNoKGksZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29tcGxldGVJbml0aWFsaXphdGlvbihuLl9maWxlc0J5SWQoKSl9KTt2YXIgaD1bXTtfLmVhY2goZS5nbG9iYWxFcnJvcnMsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHUoZSk7dC5pbml0KCksXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgaT1uLmZpbGVCeUlkKGUuZmlsZUlkKCkpO2lmKGkpe2Uuc2V0RmlsZShpKTt2YXIgcj1pLmNsb3Nlc3RSYW5nZShlLmxpbmUoKSk7bnVsbCE9ciYmKGUuc2V0UmFuZ2Uociksci5mYWlscyh0KSl9fSksaC5wdXNoKHQpfSksdGhpcy5fcmVwb3J0R2xvYmFsRXJyb3JzKGgpLHRoaXMuX3VwZGF0ZUFmZmVjdGVkRmlsZXMociksdGhpcy5fZW1pdCgidGVzdHNFeGVjdXRlZCIse2ZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWRUZXN0OnR8fHZvaWQgMCxhbGxBZmZlY3RlZEZpbGVzOnIsY2hhbmdlZDpzLGV4ZWN1dGVkOm8sZnVsbFJ1bjplLmZ1bGxSdW59KX0sdC5wcm90b3R5cGUuX2FkZEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZXNbZS5rZXkoKV09ZSxlLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpJiYoZS5fbm9Db3ZlcmFnZUNhbGN1bGF0aW9uPSEhXy5maW5kKHRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKS5maWxlc1dpdGhOb0NvdmVyYWdlQ2FsY3VsYXRlZCxmdW5jdGlvbih0KXtyZXR1cm4gcihlLnBhdGgoKSx0KX0pKX0sdC5wcm90b3R5cGUuX2RlbGV0ZUZpbGU9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX2ZpbGVzW2VdfSx0LnByb3RvdHlwZS5fbGluZVJlcG9ydD1mdW5jdGlvbihlLHQpe3JldHVybnt0ZXN0czp0aGlzLl9tYXBUZXN0cyhlLmxpbmVDb3ZlcmluZ1Rlc3RzT3JkZXJlZEJ5RmFpbGluZ1RoZW5EYXRlKHQpKX19LHQucHJvdG90eXBlLl9yZXBvcnRGYWlsZWRSdW49ZnVuY3Rpb24oZSl7dGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9ydW5FcnJvcj1lfSx0LnByb3RvdHlwZS5fcmVwb3J0Tm9ybWFsUnVuPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX3J1bkVycm9yfSx0LnByb3RvdHlwZS5fcmVwb3J0R2xvYmFsRXJyb3JzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuX2NoYW5nZWQ9dGhpcy5fY2hhbmdlZHx8Xy5zaXplKHRoaXMuX2dsb2JhbEVycm9ycykhPT1lLmxlbmd0aCxfLmVhY2goZSxmdW5jdGlvbihlKXt2YXIgaT1lLmtleSgpO2RlbGV0ZSB0Ll9nbG9iYWxFcnJvcnNbaV0sbltpXT1lfSksdGhpcy5fY2hhbmdlZD10aGlzLl9jaGFuZ2VkfHwhXy5pc0VtcHR5KHRoaXMuX2dsb2JhbEVycm9ycyksdGhpcy5fZ2xvYmFsRXJyb3JzPW59LHQucHJvdG90eXBlLl90ZXN0c1JlbW92ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztfLmVhY2goZSxmdW5jdGlvbihlKXt2YXIgbj1lLmtleSgpLGk9ISF0Ll9mYWlsaW5nVGVzdHNbbl07ZGVsZXRlIHQuX3Rlc3RzW25dLGRlbGV0ZSB0Ll9mYWlsaW5nVGVzdHNbbl0sdC5fY2hhbmdlZD1pfHx0Ll9jaGFuZ2VkfSl9LHQucHJvdG90eXBlLl90ZXN0QWRkZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKSxuPXRoaXMuX3Rlc3RzW3RdO3RoaXMuX3Rlc3RzW3RdPWUsZGVsZXRlIHRoaXMuX2ZhaWxpbmdUZXN0c1t0XSxlLmlzRmFpbGluZygpJiYodGhpcy5fZmFpbGluZ1Rlc3RzW3RdPWUpLHRoaXMuX2NoYW5nZWQ9IW58fG4mJm4uaXNGYWlsaW5nKCl8fGUuaXNGYWlsaW5nKCl8fHRoaXMuX2NoYW5nZWR9LHQucHJvdG90eXBlLl9maWxlc0J5SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZXN9LHQucHJvdG90eXBlLl91cGRhdGVBZmZlY3RlZEZpbGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1PYmplY3QuY3JlYXRlKG51bGwpLGk9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dC5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGUpJiZpLnB1c2goZSk7dmFyIHI9ZS51cGRhdGVEb2N1bWVudCgpO3ImJihuW2UucGF0aCgpXT10Ll9hbHdheXNTZW5kQWxsTGluZXM/ZS5hbGxMaW5lcygpOnIpfSksXy5pc0VtcHR5KG4pfHx0aGlzLl9lbWl0KCJkb2N1bWVudHNVcGRhdGVkIix7ZG9jdW1lbnRzOm59KTt2YXIgcj10aGlzLl9jaGFuZ2VkO3ImJmRlbGV0ZSB0aGlzLl9jaGFuZ2VkLGkubGVuZ3RoJiZ0aGlzLl91cGRhdGVUb3RhbENvdmVyYWdlKCksdGhpcy5fZW1pdCgic3RhdHNNYXliZUNoYW5nZWQiLHt0ZXN0UmVzdWx0c0NoYW5nZWQ6cixmaWxlc1dpdGhDaGFuZ2VkQ292ZXJhZ2U6aX0pfSx0LnByb3RvdHlwZS5fYWdncmVnYXRlRmlsZUNvdmVyYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZihlLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpKXt2YXIgaT10PzA6ZS5udW1iZXJPZkFsbFJhbmdlcygpLHI9dD8wOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCkscz0wLG89MDtpZihlLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGU/KHM9aS1lLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGUubnVtYmVyT2ZBbGxSYW5nZXMsbz1yLWUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMpOihzPWksbz1yKSxlLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGU9e251bWJlck9mQWxsUmFuZ2VzOmksbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzOnJ9LG4uX251bWJlck9mQWxsUmFuZ2VzKz1zLG4uX251bWJlck9mQ292ZXJlZFJhbmdlcys9bywwIT09c3x8MCE9PW8pcmV0dXJuITB9fSx0LnByb3RvdHlwZS5fdXBkYXRlVG90YWxDb3ZlcmFnZT1mdW5jdGlvbigpe3ZhciBlPU1hdGgucm91bmQoMWU0KnRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcy90aGlzLl9udW1iZXJPZkFsbFJhbmdlcykvMTAwfHwwO3RoaXMuX2NvdmVyYWdlPXt2YWx1ZTplLGxvdzplPHRoaXMubG93Q292ZXJhZ2VUaHJlc2hvbGQoKX19LHQucHJvdG90eXBlLl91cGRhdGVGaWxlUmFuZ2VzPWZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT1lLmZpbGUscj1lLmNvdmVyYWdlO18uZWFjaChyLnJhbmdlcyxmdW5jdGlvbihlKXt2YXIgcj1uZXcgYShlKTtyLmluaXQoaSx0KSxyLnNldENvbnNvbGVMb2coaS5yYW5nZUNvbnNvbGVMb2cocikpLG4ucHVzaChyKX0pLGkuc2V0UmFuZ2VzKG4sci5jaGFuZ2VkLGUuY292ZXJhZ2Uuc2luZ2xlVGVzdENoYW5nZWQpLGkuY2xlYXJSYW5nZUNvbnNvbGVMb2coKX0sdC5wcm90b3R5cGUuX21hcFRlc3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8oZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntmYWlsaW5nOmUuaXNGYWlsaW5nKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5zdGFydFJhbmdlKCkpLGZpbGU6ZS5maWxlUGF0aCgpLHRpbWU6ZS50aW1lKCksZXJyb3JzOnQuX21hcEVycm9ycyhlLmVycm9ycygpKSxwYXRoOmUucGF0aCgpLG1lc3NhZ2VzOl8ubWFwKGUuY29uc29sZU1lc3NhZ2VzKCksZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZS50eXBlKCksdGV4dDplLnRleHQoKSxmaWxlOmUuZmlsZSgpJiZlLmZpbGUoKS5wYXRoKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksY29udGV4dDplLmNvbnRleHQoKX19KX19KX0sdC5wcm90b3R5cGUuX21hcEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybnttZXNzYWdlOmUubWVzc2FnZSgpLHN0YWNrOl8ubWFwKGUuc3RhY2soKSxmdW5jdGlvbihlKXtyZXR1cm57ZmlsZTplLmZpbGVQYXRoKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksY29udGV4dDplLmNvbnRleHQoKX19KSxleHBlY3RlZDplLmV4cGVjdGVkKCksYWN0dWFsOmUuYWN0dWFsKCl9fSl9LHQucHJvdG90eXBlLl9yYW5nZVRvTG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YXJ0TGluZSgpKyI6IitlLnN0YXJ0Q29sdW1uKCl8fHZvaWQgMH0sdC5wcm90b3R5cGUuX2VtaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXQoIm1lc3NhZ2UiLF8uZXh0ZW5kKHt0eXBlOmV9LHQpKX0sdH0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9ZH0seyIuLi9zaGFyZWQvdXRpbHMiOjE1LCIuL2NvbnNvbGVNZXNzYWdlIjozLCIuL2NvdmVyYWJsZVJhbmdlIjo0LCIuL2Vycm9yRW50cnkiOjcsIi4vZXhlY3V0ZWRUZXN0Ijo4LCIuL3RyYWNrZWRTb3VyY2VGaWxlIjoxMyxtaW5pbWF0Y2g6dm9pZCAwLHBhdGg6dm9pZCAwfV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiZGdyYW0iKSxyPWUoIm9zIikscz1lKCIuLy4uLy4uL3V0aWxzIiksbz1zLnJhbmRvbUlkKCksYT1uLm9wdGlvbnM9e3R0bDoxMjgsYWRkcmVzczoiMjMwLjAuMC4zIixwb3J0OjU2Mzk4fSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RyeXt2YXIgZT10aGlzO3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9zZW5kZXI9aS5jcmVhdGVTb2NrZXQoInVkcDQiKSx0aGlzLl9zZW5kZXIuYmluZChmdW5jdGlvbigpe2UuX3NlbmRlci5zZXRCcm9hZGNhc3QoITApLGUuX3NlbmRlci5zZXRNdWx0aWNhc3RUVEwoYS50dGwpfSksdGhpcy5fc2VuZGVyLm9uKCJlcnJvciIsZnVuY3Rpb24oKXt0cnl7ZS5fc2VuZGVyLmNsb3NlKCl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyPWkuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fcmVjZWl2ZXIub24oImxpc3RlbmluZyIsZnVuY3Rpb24oKXt0cnl7ZS5fcmVjZWl2ZXIuc2V0QnJvYWRjYXN0KCEwKSxlLl9yZWNlaXZlci5zZXRNdWx0aWNhc3RUVEwoYS50dGwpLGUuX3JlY2VpdmVyLmFkZE1lbWJlcnNoaXAoYS5hZGRyZXNzKX1jYXRjaCh0KXt9fSksdGhpcy5fcmVjZWl2ZXIub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe3RyeXt0PUpTT04ucGFyc2UodC50b1N0cmluZygidXRmOCIpKSx0LmV2ZW50JiZ0LnNvdXJjZSYmdC5zb3VyY2VJZCYmdC5zb3VyY2UhPT1lLl9zb3VyY2UoKSYmdC5zb3VyY2VJZCE9PW8mJl8uZWFjaChlLl9saXN0ZW5lcnNbdC5ldmVudF0sZnVuY3Rpb24oZSl7ZS5hcHBseShudWxsLFt0LmRhdGEsdC5zb3VyY2VdKX0pfWNhdGNoKG4pe319KSx0aGlzLl9yZWNlaXZlci5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7dHJ5e2UuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyLmJpbmQoYS5wb3J0KX1jYXRjaCh0KXt9fXJldHVybiBlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3RoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVyc1tlXXx8KHRoaXMuX2xpc3RlbmVyc1tlXT1bXSksdGhpcy5fbGlzdGVuZXJzW2VdLnB1c2godCkpfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPW5ldyBCdWZmZXIoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OmUsZGF0YTp0LHNvdXJjZTp0aGlzLl9zb3VyY2UoKSxzb3VyY2VJZDpvfSkpO3RoaXMuX3NlbmRlci5zZW5kKG4sMCxuLmxlbmd0aCxhLnBvcnQsYS5hZGRyZXNzKX1jYXRjaChpKXt9fSxlLnByb3RvdHlwZS5fc291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHIuaG9zdG5hbWUoKSsiICgiK2UuX2dldElQdjRBZGRyZXNzKCkrIikifSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuX3NlbmRlci5jbG9zZSgpfWNhdGNoKGUpe310cnl7dGhpcy5fcmVjZWl2ZXIuY2xvc2UoKX1jYXRjaChlKXt9fSxlLl9nZXRJUHY0QWRkcmVzcz1mdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiBfLmVhY2goci5uZXR3b3JrSW50ZXJmYWNlcygpLGZ1bmN0aW9uKHQpe2lmKCFlKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2lmKCJJUHY0Ij09PWkuZmFtaWx5JiYiMTI3LjAuMC4xIiE9PWkuYWRkcmVzcyYmIWkuaW50ZXJuYWwpcmV0dXJuIHZvaWQoZT1pLmFkZHJlc3MpfX0pLGV8fCIwLjAuMC4wIn0sZX0oKTt0LmV4cG9ydHM9bmV3IGx9LHsiLi8uLi8uLi91dGlscyI6MTcsZGdyYW06dm9pZCAwLG9zOnZvaWQgMH1dLDEyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl0aGlzLl9maWxlSWQ9YXJndW1lbnRzWzBdLHRoaXMuX2xpbmU9YXJndW1lbnRzWzFdLHRoaXMuX2NvbnRleHQ9YXJndW1lbnRzWzJdO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLnNwbGl0KCJfIik7dGhpcy5fZmlsZUlkPXBhcnNlSW50KGVbMF0sMTApLHRoaXMuX2xpbmU9cGFyc2VJbnQoZVsxXSwxMCl9fXJldHVybiBlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkKyJfIit0aGlzLl9saW5lfSxlLnByb3RvdHlwZS5maWxlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmV9LGUucHJvdG90eXBlLmNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dH0sZS5wcm90b3R5cGUuc2V0RmlsZT1mdW5jdGlvbihlKXt0aGlzLl9maWxlPWV9LGUucHJvdG90eXBlLmZpbGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGUmJnRoaXMuX2ZpbGUucGF0aCgpfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDEzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOwp2YXIgaT1lKCIuL2NvdmVyYWJsZVJhbmdlIikscj1lKCIuL2RvY3VtZW50SW5FZGl0b3IiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9kYXRhPWUsdGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbmV3UmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fYWZmZWN0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9vdXRkYXRlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2xpbmVUb1JhbmdlTWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcz0wfXJldHVybiBlLnByb3RvdHlwZS5zZXRSYW5nZUNvbnNvbGVMb2c9ZnVuY3Rpb24oZSx0KXt2YXIgbj04MTkyLHI9aS5yYW5nZUtleSh0KSxzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tyXTtzfHwocz10aGlzLl9yYW5nZUNvbnNvbGVMb2dbcl09W10pO3ZhciBvPWUubGVuZ3RoPm4/Ii4uLiI6IiI7ZT1lLnN1YnN0cigwLG4pLHMucHVzaChlK28pfSxlLnByb3RvdHlwZS5yYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfSxlLnByb3RvdHlwZS5pbnN0cnVtZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3ZlcmFibGV9LGUucHJvdG90eXBlLnVwZGF0ZURvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIGU9Xy5leHRlbmQoe30sdGhpcy5fbmV3UmFuZ2VzLHRoaXMuX2FmZmVjdGVkUmFuZ2VzLHRoaXMuX291dGRhdGVkUmFuZ2VzKSx0PXRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLG49dGhpcy5faW52YWxpZGF0ZURvY3VtZW50O2lmKGRlbGV0ZSB0aGlzLl9hbGxSYW5nZXNSZWNlaXZlZCxkZWxldGUgdGhpcy5faW52YWxpZGF0ZURvY3VtZW50LF8uZWFjaCh0aGlzLl9vdXRkYXRlZFJhbmdlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZG9jdW1lbnRJbkVkaXRvcil7dmFyIGk9bj90aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLCEwLCEwKTp0aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShlLHQsITEpO3JldHVybiBpLmZ1bGxVcGRhdGU9bixpfX0sZS5wcm90b3R5cGUuYWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnRJbkVkaXRvcj90aGlzLl9kb2N1bWVudEluRWRpdG9yLmFsbExpbmVzKCk6dm9pZCAwfSxlLnByb3RvdHlwZS5vcGVuZWRJbkVkaXRvcj1mdW5jdGlvbigpe3RoaXMuX2RvY3VtZW50SW5FZGl0b3J8fCh0aGlzLl9kb2N1bWVudEluRWRpdG9yPW5ldyByLHRoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKF8udmFsdWVzKHRoaXMuX3JhbmdlcyksITEsITApKX0sZS5wcm90b3R5cGUuY2xvc2VkSW5BbGxFZGl0b3JzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2RvY3VtZW50SW5FZGl0b3J9LGUucHJvdG90eXBlLmlzT3BlbmVkSW5FZGl0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnRJbkVkaXRvcn0sZS5wcm90b3R5cGUuc2hpZnREb2N1bWVudExpbmVzPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiZ0aGlzLl9kb2N1bWVudEluRWRpdG9yLnNoaWZ0TGluZXMoZSx0LG4pfSxlLnByb3RvdHlwZS5pbnZhbGlkYXRlRG9jdW1lbnRMaW5lcz1mdW5jdGlvbihlKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiZ0aGlzLl9kb2N1bWVudEluRWRpdG9yLmludmFsaWRhdGVMaW5lcyhlKX0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZURvY3VtZW50PWZ1bmN0aW9uKCl7dGhpcy5fZG9jdW1lbnRJbkVkaXRvciYmKHRoaXMuX2ludmFsaWRhdGVEb2N1bWVudD0hMCl9LGUucHJvdG90eXBlLmhhc1ZhbGlkRG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faW52YWxpZGF0ZURvY3VtZW50fSxlLnByb3RvdHlwZS5saW5lVGVzdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NvdmVyaW5nVGVzdHMoZSl9LGUucHJvdG90eXBlLmxpbmVSYW5nZXM9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZG9jdW1lbnRJbkVkaXRvcil7dmFyIHQ9dGhpcy5fZG9jdW1lbnRJbkVkaXRvci5saW5lKGUpO2lmKHQpcmV0dXJuIHQucmFuZ2VzKCl9fSxlLnByb3RvdHlwZS5jb3ZlcmluZ1Rlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvdmVyaW5nVGVzdHMoKX0sZS5wcm90b3R5cGUubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5jaGFpbih0aGlzLl9jb3ZlcmluZ1Rlc3RzKGUsdCkpLnNvcnRCeShmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0ZhaWxpbmcoKX0pLnNvcnRCeShmdW5jdGlvbihlKXtyZXR1cm4tZS50cygpfSkudmFsdWUoKX0sZS5wcm90b3R5cGUuX2NvdmVyaW5nVGVzdHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlKXtpZighdGhpcy5fZG9jdW1lbnRJbkVkaXRvcilyZXR1cm5bXTtpZihuPXRoaXMuX2RvY3VtZW50SW5FZGl0b3IubGluZShlKSwhbilyZXR1cm5bXX12YXIgaT1uP24ucmFuZ2VzKCk6dGhpcy5fcmFuZ2VzO3JldHVybiB0JiYoaT1fLmZpbHRlcihpLHQpKSxfLnJlZHVjZShpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8uZWFjaCh0LmNvdmVyaW5nVGVzdHMoKSxmdW5jdGlvbih0KXtlW3Qua2V5KCldPXR9KSxlfSx7fSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZG9jdW1lbnRJbkVkaXRvcixfLmVhY2godGhpcy5fcmFuZ2VzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pLGRlbGV0ZSB0aGlzLl9yYW5nZXMsZGVsZXRlIHRoaXMuX3Rlc3RNYXB9LGUucHJvdG90eXBlLnJhbmdlQ29uc29sZUxvZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmFuZ2VDb25zb2xlTG9nW2Uua2V5KCldfSxlLnByb3RvdHlwZS5jbGVhclJhbmdlQ29uc29sZUxvZz1mdW5jdGlvbigpe3RoaXMuX3JhbmdlQ29uc29sZUxvZz1PYmplY3QuY3JlYXRlKG51bGwpfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5pZH0sZS5wcm90b3R5cGUucGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLnBhdGh9LGUucHJvdG90eXBlLmFkZFRlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKSxuPXRoaXMuX3Rlc3RNYXBbZS5rZXkoKV07cmV0dXJuIG4mJl8uZWFjaChuLm9ic29sZXRlKCksZnVuY3Rpb24oZSl7dFtlLmtleSgpXT1lfSksdGhpcy5fdGVzdE1hcFtlLmtleSgpXT1lLGUuc2V0VGVzdEZpbGUodGhpcyksdH0sZS5wcm90b3R5cGUucmFuZ2VDb3ZlcmFnZUNoYW5nZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9hZmZlY3RlZFJhbmdlc1tlLmtleSgpXT1lO3ZhciBuPWUuaXNDb3ZlcmVkKCk7dCE9PW4mJih0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPW4/MTotMSl9LGUucHJvdG90eXBlLmlzVGVzdEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS50ZXN0fSxlLnByb3RvdHlwZS5jb3ZlcmFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpP01hdGgucm91bmQoMWU0KnRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcy9fLnNpemUodGhpcy5fcmFuZ2VzKSkvMTAwOnZvaWQgMH0sZS5wcm90b3R5cGUuaGFzUmVwb3J0YWJsZUNvdmVyYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNUZXN0RmlsZSgpJiZ0aGlzLmluc3RydW1lbnRlZCgpJiYhdGhpcy5fbm9Db3ZlcmFnZUNhbGN1bGF0aW9ufSxlLnByb3RvdHlwZS5udW1iZXJPZkNvdmVyZWRSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzfSxlLnByb3RvdHlwZS5udW1iZXJPZkFsbFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiBfLnNpemUodGhpcy5fcmFuZ2VzKX0sZS5wcm90b3R5cGUuc2V0UmFuZ2VzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3RoaXMuX2FsbFJhbmdlc1JlY2VpdmVkPXQsdCYmdGhpcy5fcmVidWlsZFJhbmdlTWFwKCk7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtfLmVhY2goZSxmdW5jdGlvbihlKXt2YXIgcz1lLmtleSgpLG89aS5fcmFuZ2VzW3NdO2lmKG8pe3ZhciBhPW8uaXNDb3ZlcmVkKCksbD1lLmlzQ292ZXJlZCgpO3R8fGE9PT1sfHwoaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKz1sPzE6LTEpLG8udXBkYXRlRnJvbShlLHQsbikscltzXT1vLGkuX2FmZmVjdGVkUmFuZ2VzW3NdPW99ZWxzZSBpLl9yYW5nZXNbc109ZSxpLl9uZXdSYW5nZXNbc109ZSxlLmF0dGFjaGVkVG9Tb3VyY2VGaWxlKCksZS5pc0NvdmVyZWQoKSYmIXQmJmkuX251bWJlck9mQ292ZXJlZFJhbmdlcysrfSksdCYmKGkuX251bWJlck9mQ292ZXJlZFJhbmdlcz0wLHRoaXMuX2xpbmVUb1JhbmdlTWFwPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKF8udmFsdWVzKHRoaXMuX3JhbmdlcyksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKTtpZihpLl9uZXdSYW5nZXNbdF18fHJbdF0pe2UuaXNDb3ZlcmVkKCkmJmkuX251bWJlck9mQ292ZXJlZFJhbmdlcysrO2Zvcih2YXIgbj1lLnN0YXJ0TGluZSgpO248PWUuZW5kTGluZSgpO24rKyl7dmFyIHM9aS5fbGluZVRvUmFuZ2VNYXBbbl07KCFzfHxlLmlzSW5zaWRlT2YocykpJiYoaS5fbGluZVRvUmFuZ2VNYXBbbl09ZSl9fWVsc2UgaS5fb3V0ZGF0ZWRSYW5nZXNbdF09ZSxkZWxldGUgaS5fcmFuZ2VzW3RdfSkpfSxlLnByb3RvdHlwZS5vd25UZXN0cz1mdW5jdGlvbigpe3JldHVybiBfLnZhbHVlcyh0aGlzLl90ZXN0TWFwKX0sZS5wcm90b3R5cGUucmVtb3ZlQWxsVGVzdHM9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBfLmVhY2godGhpcy5vd25UZXN0cygpLGZ1bmN0aW9uKHQpe18uZWFjaCh0Lm9ic29sZXRlKCksZnVuY3Rpb24odCl7ZVt0LmtleSgpXT10fSl9KSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksZX0sZS5wcm90b3R5cGUuY2xvc2VzdFJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lVG9SYW5nZU1hcFtlXX0sZS5wcm90b3R5cGUuX3JlYnVpbGRSYW5nZU1hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9yYW5nZXM7dGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKHQsZnVuY3Rpb24odCl7dmFyIG49dC5rZXkoKSxpPWUuX3Jhbmdlc1tuXTtlLl9yYW5nZXNbbl09dCxpJiZpLmRpc3Bvc2UoKX0pfSxlfSgpO3QuZXhwb3J0cz1zfSx7Ii4vY292ZXJhYmxlUmFuZ2UiOjQsIi4vZG9jdW1lbnRJbkVkaXRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtsaW5lU3RhdGU6e25vdENvdmVyZWQ6MSxmdWxseUNvdmVyZWQ6MixwYXJ0aWFsbHlDb3ZlcmVkOjMsZXJyb3JTb3VyY2U6NCxlcnJvclBhdGg6NX19fSx7fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZXBsYWNlKC9eXHMrfFxzKyQvZ20sIiIpfSxyPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTt0LmV4cG9ydHM9e25vcm1hbGl6ZVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIndpbjMyIj09PXByb2Nlc3MucGxhdGZvcm0mJmU/ZS5yZXBsYWNlKC9cXC9nLCIvIik6ZX0scGFyc2VLZXk6ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYoZSl7dmFyIG49ZS5zcGxpdCgiOiIpOzI9PT1uLmxlbmd0aCYmKGU9aShuWzFdKSl9dmFyIHM9bmV3IEJ1ZmZlcihlLCJiYXNlNjQiKS50b1N0cmluZygpLnNwbGl0KCJcbiIpO3QubGljZW5zZWVOYW1lPXNbMF0sdC5saWNlbnNlVGFncz1zWzFdO3ZhciBvPXQubGljZW5zZVRhZ3Muc3BsaXQoIiwiKTtvLmxlbmd0aD49MSYmKHQubGljZW5zZWVFbWFpbD1vWzBdKSxvLmxlbmd0aD49MiYmKHQubGljZW5zZWRQcm9kdWN0PW9bMV0pLHQuZXhwaXJhdGlvbkRhdGVTdHJpbmc9c1syXSx0LmxpY2Vuc2VTaWduYXR1cmU9c1szXTt0cnl7dmFyIGE9dC5leHBpcmF0aW9uRGF0ZVN0cmluZy5zcGxpdCgiLyIpO3QuZXhwaXJhdGlvbkRhdGVTdHJpbmdGb3JtYXR0ZWQ9YVswXSsiICIrcltwYXJzZUludChhWzFdLDEwKS0xXSsiICIrYVsyXX1jYXRjaChsKXt0LmV4cGlyYXRpb25EYXRlU3RyaW5nRm9ybWF0dGVkPXQuZXhwaXJhdGlvbkRhdGVTdHJpbmd9cmV0dXJuIHR9fX0se31dLDE2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscz1lKCJuZXQiKSxvPWUoImh0dHAiKSxhPWUoInVybCIpLGw9ZSgid3MiKS5TZXJ2ZXIsYz1lKCIuLi9zZXJ2ZXIvZG9jdW1lbnRJbkVkaXRvciIpLHU9WzUxMjM1LDUxMjM2LDUxMjM3LDUxMjM4LDUxMjM5LDUxMjQwLDUxMjQxLDUxMjQyLDUxMjQzLDUxMjQ0LDUyNzQyLDUyNzQzLDUyNzQ0LDUyNzQ1LDUyNzQ2LDUyNzQ3LDUyNzQ4LDUyNzQ5LDUyNzUwLDUyNzUxLDUzNTc4LDUzNTc5LDUzNTgwLDUzNTgxLDUzNTgyLDUzNTgzLDUzNTg0LDUzNTg1LDUzNTg2LDUzNTg3XSxkPTUxMjQ1LGg9JzwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz0iZW4iPlxuPGhlYWQ+XG4gICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPlxuICAgIDxsaW5rIGlkPSJmYXZpY29uIiByZWw9Imljb24iIGhyZWY9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY28iIHR5cGU9ImltYWdlL3gtaWNvbiIvPlxuICAgIDxsaW5rIGlkPSJzaG9ydGN1dCIgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvIiB0eXBlPSJpbWFnZS94LWljb24iLz5cbiAgICA8c3R5bGU+XG4gICAgICAgIGh0bWwsXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHkgc3R5bGU9Im1hcmdpbjowcHg7cGFkZGluZzowcHg7b3ZlcmZsb3c6aGlkZGVuOyI+XG48c2NyaXB0PlxuICB0cnkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwnbWVzc2FnZVwnLCBmdW5jdGlvbiAobSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG0uZGF0YS50aXRsZSkge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gbS5kYXRhLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgaWYgKG0uZGF0YS5zdGF0dXMucGFzc2luZykge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvXCcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdzaG9ydGN1dFwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljb1wnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24tYWx0Lmljb1wnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2hvcnRjdXRcJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi1hbHQuaWNvXCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbjwvc2NyaXB0PlxuPGlmcmFtZSBzcmM9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAiIGZyYW1lYm9yZGVyPSIwIiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxMDAlO3dpZHRoOjEwMCUiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvaWZyYW1lPlxuPC9ib2R5PlxuPC9odG1sPlxuJyxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzLHM9cjtyZXR1cm4gci5fZmluZEZyZWVQb3J0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gcy5fc3RhcnQoZSxuKX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc3RhcnQgd2FsbGFieSBhcHAgc2VydmljZTogIisoZSYmZS5tZXNzYWdlKSl9KSxpPWUoImRlYnVnIikoIndhbGxhYnk6dWlTZXJ2aWNlIikscy5fY29ubmVjdGlvbnM9W10scy5fb3BlbmVkRmlsZXM9e30scn1yZXR1cm4gcihuLHQpLG4ucHJvdG90eXBlWyJ1aTpzdGFydCJdPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2VuZChfLmV4dGVuZCh7dHlwZToidWk6c3VtbWFyeSJ9LHRoaXMuX21vZGVsLnN1bW1hcnkoKSksdCk7dmFyIG49dGhpcy5fbW9kZWwuYWxsRmlsZXMoKTtfLmlzRW1wdHkobil8fHRoaXMuX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZShuLHQpfSxuLnByb3RvdHlwZVsidWk6bmF2aWdhdGUiXT1mdW5jdGlvbihlKXtlLmxpbmU9cGFyc2VJbnQoZS5saW5lLDEwKSxlLmNvbHVtbj1wYXJzZUludChlLmNvbHVtbiwxMCksXy5pc05hTihlLmxpbmUpJiYoZS5saW5lPTEpLF8uaXNOYU4oZS5jb2x1bW4pJiZkZWxldGUgZS5jb2x1bW4sdGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZChlLHt0eXBlOiJuYXZpZ2F0aW9uUmVxdWVzdGVkIn0pKX0sbi5wcm90b3R5cGVbInVpOnJ1blRlc3RzIl09ZnVuY3Rpb24oZSl7dGhpcy5fbW9kZWwuX3Byb2plY3QucnVuVGVzdHMoe3Rlc3RzOmUudGVzdHN9KX0sbi5wcm90b3R5cGVbInVpOm9wZW5lZEluRWRpdG9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT90aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdKys6dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT0xfSxuLnByb3RvdHlwZVsidWk6Y2xvc2VkSW5FZGl0b3IiXT1mdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdJiZ0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdLS19LG4ucHJvdG90eXBlWyJ1aTpjb2RlUmVxdWVzdGVkIl09ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5fbW9kZWwuZmlsZUNvbnRlbnRCeVBhdGgoZS5wYXRoKTtpJiZpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHIscz1uZXcgYyxvPW4uX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKSxhPVtdLGw9W107byYmby5pbnN0cnVtZW50ZWQoKSYmKHMudXBkYXRlKF8udmFsdWVzKG8ucmFuZ2VzKCkpLCExLCEwKSxsPXMuYWxsTGluZXMoKS5saW5lc3x8W10sYT1uLl9tb2RlbC51bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0KHtmaWxlOmUucGF0aH0pfHxbXSxyPW4uX3JlcG9ydEZpbGVDb3ZlcmFnZShvKSksbi5fc2VuZCh7dHlwZToidWk6Y29kZSIsY29ycmVsYXRpb25JZDplLmNvcnJlbGF0aW9uSWQsY29kZTppLnRvU3RyaW5nKCksbGluZXM6bCx1bmNvdmVyZWRSZWdpb25zOmEsY292ZXJhZ2U6cn0sdCl9KX0sbi5wcm90b3R5cGVbInVpOnRlc3RzOnJlc3VsdHNSZXF1ZXN0ZWQiXT1mdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMCx0aGlzLl9zZW5kVGVzdFJlc3VsdHModm9pZCAwLHQpfSxuLnByb3RvdHlwZVsidWk6dGVzdHM6cmVzdWx0c0FiYW5kb25lZCJdPWZ1bmN0aW9uKGUsdCl7dC5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzPSExfSxuLnByb3RvdHlwZVsibW9kZWw6dGVzdEZpbGVEZWxldGVkIl09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kKHt0eXBlOiJ1aTp0ZXN0czpzb21lUmVzdWx0c1VwZGF0ZWQiLGZpbGVzOlt7cGF0aDplLmZpbGUucGF0aCxhY3Rpb246ImRlbGV0ZWQifV19LG4pfSl9LG4ucHJvdG90eXBlWyJtb2RlbDphbGxGaWxlcyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRBbGxGaWxlcyYmdC5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLGlkOmUuaWR9fSksbil9KX0sbi5wcm90b3R5cGVbIm1vZGVsOmZpbGVBZGRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiYWRkZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkLHRlc3Q6ZS5maWxlLnRlc3R8fHZvaWQgMH1dfSl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiY2hhbmdlZCIscGF0aDplLmZpbGUucGF0aCxpZDplLmZpbGUuaWR9XX0pfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZURlbGV0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImRlbGV0ZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkfV19KX0sbi5wcm90b3R5cGVbIm1vZGVsOnRlc3RzRXhlY3V0ZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX3NlbmQoXy5leHRlbmQoe3R5cGU6InVpOnN1bW1hcnkifSx0aGlzLl9tb2RlbC5zdW1tYXJ5KCkpKSxfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kVGVzdFJlc3VsdHMoZSxuKX0pLCFfLmlzRW1wdHkoZS5hbGxBZmZlY3RlZEZpbGVzKSl7dmFyIG49W10saT1fLnJlZHVjZShlLmFsbEFmZmVjdGVkRmlsZXMsZnVuY3Rpb24oZSxpKXt2YXIgcj10Ll9yZXBvcnRGaWxlQ292ZXJhZ2UoaSk7cmV0dXJuIHImJnIudmFsdWVDaGFuZ2VkJiYoZGVsZXRlIHIudmFsdWVDaGFuZ2VkLGVbaS5rZXkoKV09ciksdC5fb3BlbmVkRmlsZXNbaS5wYXRoKCldJiZuLnB1c2goe2FjdGlvbjoiYWZmZWN0ZWQiLHBhdGg6aS5wYXRoKCksaWQ6aS5rZXkoKSx0ZXN0OmkuaXNUZXN0RmlsZSgpfHx2b2lkIDB9KSxlfSx7fSk7Xy5pc0VtcHR5KGkpfHx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpjb3ZlcmFnZUNoYW5nZWQiLGNoYW5nZXM6aX0pLF8uaXNFbXB0eShuKXx8dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOm59KX19LG4ucHJvdG90eXBlLl9yZXBvcnRGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQsbj1lLmNvdmVyYWdlKCk7cmV0dXJuIG4+PTAmJih0PXt2YWx1ZTpuLGxvdzpuPHRoaXMuX21vZGVsLmxvd0NvdmVyYWdlVGhyZXNob2xkKCkscmFuZ2VzOntjb3ZlcmVkOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCksYWxsOmUubnVtYmVyT2ZBbGxSYW5nZXMoKX0sdmFsdWVDaGFuZ2VkOmUuX2xhdGVzdFJlcG9ydGVkQ292ZXJhZ2VWYWx1ZSE9PW58fHZvaWQgMH0sZS5fbGF0ZXN0UmVwb3J0ZWRDb3ZlcmFnZVZhbHVlPW4pLHR9fSxuLnByb3RvdHlwZS5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0Ll9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITEsdGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOmUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO3JldHVybnthY3Rpb246ImFkZGVkIixwYXRoOmUucGF0aCxpZDplLmlkLHRlc3Q6dCYmdC5pc1Rlc3RGaWxlKCl8fHZvaWQgMCxjb3ZlcmFnZTpuLl9yZXBvcnRGaWxlQ292ZXJhZ2UodCl9fSl9LHQpfSxuLnByb3RvdHlwZS5fc2VuZFRlc3RSZXN1bHRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHM9InNvbWVSZXN1bHRzVXBkYXRlZCI7ZT8oZS5mdWxsUnVuJiYocz0iYWxsUmVzdWx0c1VwZGF0ZWQiKSxuPWUuY2hhbmdlZCxpPWUuZXhlY3V0ZWQscj1lLmZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWRUZXN0KToocz0iYWxsUmVzdWx0c1VwZGF0ZWQiLG49dGhpcy5fbW9kZWwuYWxsVGVzdEZpbGVzKCkpLHRoaXMuX3NlbmQoe3R5cGU6InVpOnRlc3RzOiIrcyxmaWxlczp0aGlzLl9jcmVhdGVUZXN0UmVzdWx0cyhuLHIsImNoYW5nZWQiKS5jb25jYXQodGhpcy5fY3JlYXRlVGVzdFJlc3VsdHMoaSxyLCJleGVjdXRlZCIpKX0sdCl9LG4ucHJvdG90eXBlLl9jcmVhdGVUZXN0UmVzdWx0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyxyPV8ucmVkdWNlKHRoaXMuX21vZGVsLmdsb2JhbEVycm9ycygpLGZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGVJZCgpO2lmKHQpe3ZhciByPWkuX21vZGVsLmZpbGVCeUlkKHQpO2lmKHIuaXNUZXN0RmlsZSgpKXJldHVybiBuPXIsITF9fSksbil7dmFyIHI9ZVtuLmtleSgpXT1lW24ua2V5KCldfHxbXTtyLnB1c2goe21lc3NhZ2U6dC5tZXNzYWdlKCksc3RhY2s6Xy5tYXAodC5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybiBpLl9idWlsZExvY2F0aW9uKGUsZS5maWxlUGF0aCgpKX0pfSl9cmV0dXJuIGV9LHt9KXx8e307cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7dmFyIHM9e307cmV0dXJuIF8uZWFjaChlLm93blRlc3RzKCksZnVuY3Rpb24oZSl7dmFyIG49ZS5wYXRoKCkscj0iOiIrXy5sYXN0KG4pLG89cztuLmxlbmd0aD4xJiZfLmVhY2goXy50YWtlKG4sbi5sZW5ndGgtMSksZnVuY3Rpb24oZSl7ZT0iOiIrZTt2YXIgdD1vW2VdO3R8fCh0PXt9LG9bZV09dCksbz10fSk7dmFyIGE9Xy5tYXAoZS5jb3ZlcmVkRmlsZXMoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXkoKX0pO18uaXNFbXB0eShhKSYmKGE9dm9pZCAwKSxvW3JdPXtpc1Rlc3Q6ITAsZmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZDplPT09dHx8dm9pZCAwLG5hbWU6ci5zdWJzdHIoMSksdGltZTplLnRpbWUoKSxzbG93OmUuc2xvdygpLGxpbmU6ZS5zdGFydFJhbmdlKCk/ZS5zdGFydFJhbmdlKCkuc3RhcnRMaW5lKCk6MSxsb2dzOl8ubWFwKGUuY29uc29sZU1lc3NhZ2VzKCksZnVuY3Rpb24oZSl7dmFyIHQ9e21lc3NhZ2U6ZS50ZXh0KCl9O3JldHVybiBlLmZpbGUoKSYmKHQubG9jYXRpb249aS5fYnVpbGRMb2NhdGlvbihlLGUuZmlsZSgpLnBhdGgoKSkpLHR9KSxlcnJvcnM6Xy5tYXAoZS5lcnJvcnMoKSxmdW5jdGlvbihlKXtyZXR1cm57bWVzc2FnZTplLm1lc3NhZ2UoKSxzdGFjazpfLm1hcChlLnN0YWNrKCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGVQYXRoKCkpfSksYWN0dWFsOmUuYWN0dWFsKCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpfX0pLGNvdmVyZWRGaWxlczphfX0pLHtwYXRoOmUucGF0aCgpLGFjdGlvbjpuLHRlc3RzOmkuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKHMpLGVycm9yczpyW2Uua2V5KCldfX0pfSxuLnByb3RvdHlwZS5fYnVpbGRMb2NhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXtwYXRoOnR9O3JldHVybiBlLnJhbmdlKCk/KG4ubGluZT1lLnJhbmdlKCkuc3RhcnRMaW5lKCksbi5jb2x1bW49ZS5yYW5nZSgpLnN0YXJ0Q29sdW1uKCkpOmUubGluZSgpJiYobi5saW5lPWUubGluZSgpKSxuLmNvbnRleHQ9ZS5jb250ZXh0KCksbn0sbi5wcm90b3R5cGUuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5pc1Rlc3Q9PT0hMD8oZGVsZXRlIGUuaXNUZXN0LGUpOntuYW1lOm4uc3Vic3RyKDEpLHRlc3RzOnQuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKGUpfX0pfSxuLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt2YXIgdD1uWyJtb2RlbDoiK2UudHlwZV07dCYmdC5jYWxsKG4sZSl9KX0scz1mdW5jdGlvbigpe24uX3dzcz1uZXcgbCh7cG9ydDplLHZlcmlmeUNsaWVudDpmdW5jdGlvbihlKXt2YXIgdD0hMTt0cnl7dmFyIG49YS5wYXJzZShlLm9yaWdpbik7dD0id2FsbGFieWpzLmNvbSI9PT1uLmhvc3RuYW1lfWNhdGNoKGkpe31yZXR1cm4gdH19KSxuLl93c3Mub24oImNvbm5lY3Rpb24iLGZ1bmN0aW9uKGUpe2koIlVJIGNsaWVudCBjb25uZWN0ZWQiKSxuLl9tb2RlbD10LGUuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMSxlLl9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITAsIW4uX2Nvbm5lY3Rpb25zLmxlbmd0aCYmbi5fbW9kZWwub24oIm1lc3NhZ2UiLHIpLG4uX2Nvbm5lY3Rpb25zLnB1c2goZSksZS5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZSh0KX1jYXRjaChzKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZGVzZXJpYWxpemUgbWVzc2FnZSBmcm9tIHdhbGxhYnkgVUk6ICIrdCsiLCAiKyhzJiZzLm1lc3NhZ2UpKX1pKCJJbmNvbWluZyBtZXNzYWdlICVzIixyLnR5cGUpO3ZhciBvPW5bci50eXBlXTtvJiZvLmNhbGwobixyLGUpfSksZS5vbigiY2xvc2UiLGZ1bmN0aW9uKCl7aSgiVUkgY2xpZW50IGRpc2Nvbm5lY3RlZCIpLG4uX2Nvbm5lY3Rpb25zPW4uX2Nvbm5lY3Rpb25zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9ZX0pLCFuLl9jb25uZWN0aW9ucy5sZW5ndGgmJm4uX21vZGVsLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixyKX0pLG4uX3NlbmQoe3R5cGU6InVpOmhhbmRzaGFrZSIscHJvamVjdDp7bmFtZTpuLl9tb2RlbC5wcm9qZWN0TmFtZSgpLHBhdGg6bi5fbW9kZWwuY29uZmlnRmlsZVBhdGgoKSxjb25maWc6bi5fbW9kZWwucHJvamVjdENvbmZpZygpfSx2ZXJzaW9uOm4uX21vZGVsLmNvcmVWZXJzaW9uKCl9LGUpfSksaSgiTGlzdGVuaW5nIHBvcnQgJXMiLGUpfTtuLl9jaGVja1BvcnQoZCkudGhlbihmdW5jdGlvbihlKXtpZihlKXRyeXtuLl9odHRwU2VydmVyPW8uY3JlYXRlU2VydmVyKGZ1bmN0aW9uKGUsdCl7dC53cml0ZUhlYWQoMjAwLHsiQ29udGVudC1UeXBlIjoidGV4dC9odG1sIn0pLHQud3JpdGUoaCksdC5lbmQoKX0pLm9uY2UoImxpc3RlbmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gcygpfSkubGlzdGVuKGUpfWNhdGNoKHQpe3MoKX1lbHNlIHMoKX0pfSxuLnByb3RvdHlwZS5fc2VuZD1mdW5jdGlvbihlLHQpe3QmJigidWk6dGVzdHM6YWxsUmVzdWx0c1VwZGF0ZWQiPT09ZS50eXBlPyh0Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtPTAsZS5zZXE9dC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bSsrKToidWk6dGVzdHM6c29tZVJlc3VsdHNVcGRhdGVkIj09PWUudHlwZSYmKGUuc2VxPXQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW0rKykpLGkoIk91dGdvaW5nIG1lc3NhZ2UgJXMiLGUudHlwZSk7dmFyIG49SlNPTi5zdHJpbmdpZnkoZSk7dD90LnNlbmQobik6Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQobil9KX0sbi5wcm90b3R5cGUuX2ZpbmRGcmVlUG9ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFEuYWxsKF8ubWFwKHUsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NoZWNrUG9ydCh0KX0pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBfLmZpbmQoZSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGV8fFEucmVqZWN0KG5ldyBFcnJvcigiQ2FuIG5vdCBmaW5kIGEgZnJlZSBwb3J0IikpfSl9LG4ucHJvdG90eXBlLl9jaGVja1BvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXMuY3JlYXRlU2VydmVyKCkub25jZSgiZXJyb3IiLGZ1bmN0aW9uKHQpe3JldHVybiBuKHQmJiJFQUREUk5PVEFWQUlMIj09PXQuY29kZT9lOjApfSkub25jZSgibGlzdGVuaW5nIixmdW5jdGlvbigpe3JldHVybiBpLm9uY2UoImNsb3NlIixmdW5jdGlvbigpe3JldHVybiBuKGUpfSkuY2xvc2UoKX0pLmxpc3RlbihlLHQpfX07cmV0dXJuIFEucHJvbWlzZSh0KCIwLjAuMC4wIikpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/US5wcm9taXNlKHQoIjEyNy4wLjAuMSIpKTowfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZT9RLnByb21pc2UodCgiOjoxIikpOjB9KX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fd3NzJiZlLl93c3MuY2xvc2UoKSxlLl9odHRwU2VydmVyJiZlLl9odHRwU2VydmVyLmNsb3NlKCl9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXB9LHsiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiOjUsZGVidWc6dm9pZCAwLGh0dHA6dm9pZCAwLG5ldDp2b2lkIDAsdXJsOnZvaWQgMCx3czp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoInBhdGgiKSxyPS9eXHMqKFwvXCpcKj8oLnxccj9cbikqP1wqXC8pLyxzPS9eXHMqLyxvPS9bXHUwMDFiXHUwMDliXVtbKCkjOz9dKig/OlswLTldezEsNH0oPzo7WzAtOV17MCw0fSkqKT9bMC05QS1QUlpjZi1ucXJ5PT48XS9nO3QuZXhwb3J0cz17cmFuZG9tSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNSl9LG5vb3BUcnVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG5vb3BUcnVlUHJvbWlzZTpmdW5jdGlvbigpe3JldHVybiBRLmZjYWxsKHRoaXMubm9vcFRydWUpfSxpc1BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD4yJiYiQCI9PT1lWzBdJiYiQCI9PT1lWzFdfSxkb2NCbG9ja0NvbW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaChyKTtyZXR1cm4gdD90WzBdLnJlcGxhY2UocywiIil8fCIiOiIifSx0ZXh0SW5kZXhQb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMudGV4dExpbmVzKGUsdCk7cmV0dXJue2xpbmU6bi5sZW5ndGgsY29sdW1uOm5bbi5sZW5ndGgtMV0ubGVuZ3RofX0sdGV4dExpbmVzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9Xy5pc1VuZGVmaW5lZCh0KT9lOmUuc3Vic3RyKDAsdCksZS5zcGxpdCgvXHJcbnxccnxcbi8pfSx2ZXJpZnlMb2NhbE9yaWdpbjpmdW5jdGlvbih0LG4pe2lmKCF0KXJldHVybiEwO3ZhciBpPSExO3RyeXt2YXIgcj1lKCJ1cmwiKS5wYXJzZSh0KS5ob3N0bmFtZTtpPSJsb2NhbGhvc3QiPT09cnx8IjAuMC4wLjAiPT09cnx8IjEyNy4wLjAuMSI9PT1yfHwiOjoxIj09PXJ9Y2F0Y2gocyl7fXJldHVybiBpfHxufHxjb25zb2xlLmVycm9yKCJ3YWxsYWJ5LmpzIHJlZnVzZWQgdG8gYWNjZXB0IGNvbm5lY3Rpb24gZnJvbSAiK3QpLGl9LHBhdGNoTW9kdWxlOmZ1bmN0aW9uKHQsbil7dmFyIGk9ZSgibW9kdWxlIikuTW9kdWxlLnByb3RvdHlwZSxyPWkucmVxdWlyZTtpLnJlcXVpcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P24oXy5iaW5kKHIsdGhpcykpOnIuY2FsbCh0aGlzLGUpfX0scmVxdWlyZU1vZHVsZUZyb206ZnVuY3Rpb24odCxuKXt0cnl7cmV0dXJuIGUoaS5qb2luKHQsIm5vZGVfbW9kdWxlcyIsbikpfWNhdGNoKHIpe3ZhciBzPWUoIm1vZHVsZSIpLG89bmV3IHMoIi4iLG51bGwpO3JldHVybiBvLmZpbGVuYW1lPWkuam9pbih0LCJ3YWxsYWJ5LmpzIiksby5wYXRocz1zLl9ub2RlTW9kdWxlUGF0aHModCkscy5fbG9hZChuLG8sITEpfX0scmVzb2x2ZU1vZHVsZVBhdGhGcm9tOmZ1bmN0aW9uKHQsbil7dmFyIHI9ZSgibW9kdWxlIikscz1uZXcgcigiLiIsbnVsbCk7cmV0dXJuIHMuZmlsZW5hbWU9aS5qb2luKHQsIndhbGxhYnkuanMiKSxzLnBhdGhzPXIuX25vZGVNb2R1bGVQYXRocyh0KSxyLl9yZXNvbHZlRmlsZW5hbWUobixzLCExKX0saGFzQW5zaTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmInN0cmluZyI9PXR5cGVvZiBlJiZlLm1hdGNoKG8pfSxyZW1vdmVBbnNpOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYic3RyaW5nIj09dHlwZW9mIGU/ZS5yZXBsYWNlKG8sIiIpOmV9fX0se21vZHVsZTp2b2lkIDAscGF0aDp2b2lkIDAsdXJsOnZvaWQgMH1dfSx7fSxbMV0pOw==